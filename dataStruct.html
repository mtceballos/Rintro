

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Data structure &mdash; Rintro 10.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=335988e4"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Basic Operations" href="basicOps.html" />
    <link rel="prev" title="Main features of R" href="generalChars.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Rintro
              <img src="_static/Rlogo.jpg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Rintro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="generalChars.html">Main features of R</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Data structure</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#data-structure-types">Data structure types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#vectors"><span class="bblue">Vectors</span></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#numeric-vectors">Numeric Vectors</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logical-vectors">Logical Vectors</a></li>
<li class="toctree-l4"><a class="reference internal" href="#character-vectors">Character Vectors</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#matrices"><span class="bblue">Matrices</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="#arrays"><span class="bblue">Arrays</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="#factors"><span class="bred">Factors</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lists">Lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data-frames-tables"><span class="bmagenta">Data Frames (Tables)</span></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#factors-and-tables">Factors and Tables</a></li>
<li class="toctree-l4"><a class="reference internal" href="#matrices-and-tables">Matrices and Tables</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#functions"><span class="bgreen">Functions</span></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#looping-functions">Looping Functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#special-values">Special Values</a></li>
<li class="toctree-l2"><a class="reference internal" href="#subsetting">Subsetting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#removing-na-values">Removing NA values</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="basicOps.html">Basic Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="controlStructs.html">Control Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataReading.html">Data Reading and Writting</a></li>
<li class="toctree-l1"><a class="reference internal" href="graphs.html">Graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="statisticalTreatment.html">Statistical Treatment</a></li>
<li class="toctree-l1"><a class="reference internal" href="Rstudio.html">RStudio: an integrated environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">Bibliography and References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Rintro</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Data structure</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/dataStruct.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="data-structure">
<h1>Data structure<a class="headerlink" href="#data-structure" title="Link to this heading"></a></h1>
<p id="obj">R is an object-oriented language: an <strong>object</strong> in R is anything (constants, data structures, functions, graphs) that can be assigned to a variable:</p>
<ul class="simple">
<li><p>Data Objects: used to store real or complex numerical values, logical values or characters. These objects are always vectors: there are no scalars in R.</p></li>
<li><p>Language Objects: functions, expressions</p></li>
</ul>
<section id="data-structure-types">
<span id="datatypes"></span><h2>Data structure types<a class="headerlink" href="#data-structure-types" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><span class="bblue">Vectors</span>: one-dimensional arrays used to store collection data of the same mode</p>
<ul>
<li><p>Numeric Vectors (mode: <em>numeric</em>)</p></li>
<li><p>Complex Vectors (mode: <em>complex</em>)</p></li>
<li><p>Logical Vectors (model: <em>logical</em>)</p></li>
<li><p>Character Vector or text strings (mode: character)</p></li>
</ul>
</li>
<li><p><span class="bblue">Matrices</span>: two-dimensional arrays to store collections of data of the same mode. They are accessed by two integer indices.</p></li>
<li><p><span class="bblue">Arrays</span>: similar to matrices but they can be multi-dimensional (more than two dimensions)</p></li>
<li><p><span class="bred">Factors</span>: vectors of categorical variables designed to group the components of another vector with the same size</p></li>
<li><p><strong>Lists</strong>: ordered collection of objects, where the elements can be of different types</p></li>
<li><p><span class="bmagenta">Data Frames</span>: generalization of matrices where different columns can store different mode data.</p></li>
<li><p><span class="bgreen">Functions</span>: objects created by the user and reused to make specific operations.</p></li>
</ul>
<a class="reference internal image-reference" href="_images/dataStructuresNew.png"><img alt="_images/dataStructuresNew.png" class="align-center" src="_images/dataStructuresNew.png" style="width: 519.0px; height: 249.0px;" />
</a>
<section id="vectors">
<span id="numvectors"></span><h3><span class="bblue">Vectors</span><a class="headerlink" href="#vectors" title="Link to this heading"></a></h3>
<section id="numeric-vectors">
<h4>Numeric Vectors<a class="headerlink" href="#numeric-vectors" title="Link to this heading"></a></h4>
<p>There are several ways to assign values to a variable:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1.7</span><span class="w">               </span><span class="c1"># assign a value to a vector with only one element (~ scalar)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="m">1.7</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">a</span><span class="w">               </span><span class="c1"># assign a value to a vector with only one element (~ scalar)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1.7</span><span class="w">                </span><span class="c1"># assign a value to a vector with only one element (~ scalar)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">assign</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">,</span><span class="w"> </span><span class="m">1.7</span><span class="p">)</span><span class="w">       </span><span class="c1"># assign a value to a vector with only one element (~ scalar)</span>
</pre></div>
</div>
<p>To show the values:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w">                      </span><span class="c1"># show the value in the screen (not valid in scripts)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">1.7</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w">               </span><span class="c1"># show the value in the screen (valid in scripts)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">1.7</span>
</pre></div>
</div>
<p>To generate a vector with several numeric values:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="m">11</span><span class="p">,</span><span class="w"> </span><span class="m">15</span><span class="p">,</span><span class="w"> </span><span class="m">19</span><span class="p">)</span><span class="w"> </span><span class="c1"># assign four values to a vector using the concatenate command c()</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w">                      </span><span class="c1"># show the value in the screen</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="m">15</span><span class="w"> </span><span class="m">19</span>
</pre></div>
</div>
<p>The operations are always done over all the elements of the numeric array:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="o">*</span><span class="n">a</span><span class="w">                    </span><span class="c1"># evaluate the square value of every element in the vector</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="m">121</span><span class="w"> </span><span class="m">225</span><span class="w"> </span><span class="m">361</span>
<span class="o">&gt;</span><span class="w"> </span><span class="m">1</span><span class="o">/</span><span class="n">a</span><span class="w">                    </span><span class="c1"># evaluate the inverse value of every element in the vector</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">0.10000000</span><span class="w"> </span><span class="m">0.09090909</span><span class="w"> </span><span class="m">0.06666667</span><span class="w"> </span><span class="m">0.05263158</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">a</span><span class="m">-1</span><span class="w">               </span><span class="c1"># subtract 1 from every element and assign the result to b</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">b</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">  </span><span class="m">9</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="m">14</span><span class="w"> </span><span class="m">18</span>
</pre></div>
</div>
<p>To generate a <em>sequence</em>:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="m">2</span><span class="o">:</span><span class="m">10</span><span class="w">                                </span><span class="c1"># generate a sequence from n1=2 to n2=10 using n1:n2</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">  </span><span class="m">2</span><span class="w">  </span><span class="m">3</span><span class="w">  </span><span class="m">4</span><span class="w">  </span><span class="m">5</span><span class="w">  </span><span class="m">6</span><span class="w">  </span><span class="m">7</span><span class="w">  </span><span class="m">8</span><span class="w">  </span><span class="m">9</span><span class="w"> </span><span class="m">10</span>
<span class="o">&gt;</span><span class="w"> </span><span class="m">5</span><span class="o">:</span><span class="m">1</span><span class="w">                                 </span><span class="c1"># generate an inverse sequence if n2 &lt; n1</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">1</span>

<span class="o">&gt;</span><span class="w"> </span><span class="nf">seq</span><span class="p">(</span><span class="n">from</span><span class="o">=</span><span class="n">n1</span><span class="p">,</span><span class="w"> </span><span class="n">to</span><span class="o">=</span><span class="n">n2</span><span class="p">,</span><span class="w"> </span><span class="n">by</span><span class="o">=</span><span class="n">n3</span><span class="p">)</span><span class="w">          </span><span class="c1"># generate sequence from n1 to n2 using n3 step</span>
<span class="w">                                      </span><span class="c1">#  (parameters names can be avoided if order is kept)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">seq</span><span class="p">(</span><span class="n">from</span><span class="o">=</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">to</span><span class="o">=</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="n">by</span><span class="o">=</span><span class="m">3</span><span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">  </span><span class="m">1</span><span class="w">  </span><span class="m">4</span><span class="w">  </span><span class="m">7</span><span class="w"> </span><span class="m">10</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">seq</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">  </span><span class="m">1</span><span class="w">  </span><span class="m">4</span><span class="w">  </span><span class="m">7</span><span class="w"> </span><span class="m">10</span>

<span class="o">&gt;</span><span class="w"> </span><span class="nf">seq</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="n">from</span><span class="o">=</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">by</span><span class="o">=</span><span class="m">3</span><span class="p">)</span><span class="w">        </span><span class="c1"># generate a fixed length sequence</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">  </span><span class="m">1</span><span class="w">  </span><span class="m">4</span><span class="w">  </span><span class="m">7</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="m">13</span><span class="w"> </span><span class="m">16</span><span class="w"> </span><span class="m">19</span><span class="w"> </span><span class="m">22</span><span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">28</span>

<span class="o">&gt;</span><span class="w"> </span><span class="nf">help</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span><span class="w">                           </span><span class="c1"># for help about this command</span>
<span class="kc">...</span>
</pre></div>
</div>
<p>To generate <em>repetitions</em>:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">rep</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">times</span><span class="o">=</span><span class="m">3</span><span class="p">);</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">rep</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">each</span><span class="o">=</span><span class="m">3</span><span class="p">)</span><span class="w">         </span><span class="c1"># command rep()</span>
</pre></div>
</div>
<p>In the previous example we have run three commands in the same line. They have been separated by a ‘;’.</p>
<p>The content of the three variables is now:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">3</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">b</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">3</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">c</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">3</span>
</pre></div>
</div>
<p><strong>The recycling rule:</strong> vectors of different sizes can be combined, as far as
the length of the longer vector is a multiple of the shorter vector’s length
(otherwise a warning is issued, although the operation is carried out):</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="o">+</span><span class="n">c</span><span class="w">                                         </span><span class="c1"># proper dimensions</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">6</span><span class="w">                         </span><span class="c1"># (operation equivalent to b+c)</span>

<span class="o">&gt;</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="m">100</span><span class="p">)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">b</span><span class="o">+</span><span class="n">d</span><span class="w">                                         </span><span class="c1"># incorrect dimensions</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">  </span><span class="m">11</span><span class="w"> </span><span class="m">102</span><span class="w">  </span><span class="m">13</span><span class="w"> </span><span class="m">101</span><span class="w">  </span><span class="m">12</span><span class="w"> </span><span class="m">103</span><span class="w">  </span><span class="m">11</span><span class="w"> </span><span class="m">102</span><span class="w">  </span><span class="m">13</span>
<span class="n">Warning</span><span class="w"> </span><span class="n">message</span><span class="o">:</span>
<span class="n">In</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">longer</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">shorter</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="n">length</span>
</pre></div>
</div>
<p>If we need to know which are the objects that are currently defined, we can <em>list</em> them:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="nf">ls</span><span class="p">()</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="w"> </span><span class="s">&quot;b&quot;</span><span class="w"> </span><span class="s">&quot;c&quot;</span><span class="w"> </span><span class="s">&quot;d&quot;</span>
</pre></div>
</div>
<p>Undesired objects can be deleted using <code class="docutils literal notranslate"><span class="pre">rm()</span></code> function:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="nf">rm</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">c</span><span class="p">)</span><span class="w">                                     </span><span class="c1"># remove objects &#39;a&#39; and &#39;b&#39;</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">ls</span><span class="p">()</span><span class="w">                                        </span><span class="c1"># list current objects</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;b&quot;</span><span class="w"> </span><span class="s">&quot;d&quot;</span>
</pre></div>
</div>
<p>In order to remove everything in the working environment:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="nf">rm</span><span class="p">(</span><span class="n">list</span><span class="o">=</span><span class="nf">ls</span><span class="p">())</span><span class="w">                               </span><span class="c1"># Use this with caution</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">ls</span><span class="p">()</span><span class="w">                                        </span><span class="c1"># (you&#39;ll receive no warning!)</span>
<span class="nf">character</span><span class="p">(</span><span class="m">0</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="logical-vectors">
<span id="logicalvectors"></span><h4>Logical Vectors<a class="headerlink" href="#logical-vectors" title="Link to this heading"></a></h4>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">seq</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">10</span><span class="p">)</span><span class="w">                              </span><span class="c1"># generate a sequence</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">  </span><span class="m">1</span><span class="w">  </span><span class="m">2</span><span class="w">  </span><span class="m">3</span><span class="w">  </span><span class="m">4</span><span class="w">  </span><span class="m">5</span><span class="w">  </span><span class="m">6</span><span class="w">  </span><span class="m">7</span><span class="w">  </span><span class="m">8</span><span class="w">  </span><span class="m">9</span><span class="w"> </span><span class="m">10</span><span class="w">             </span><span class="c1"># show values in screen</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="o">&gt;</span><span class="m">5</span><span class="p">)</span><span class="w">                                  </span><span class="c1"># assign values from an inequality</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">b</span><span class="w">                                           </span><span class="c1"># show values in screen</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="kc">FALSE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w">  </span><span class="kc">TRUE</span><span class="w">  </span><span class="kc">TRUE</span><span class="w">  </span><span class="kc">TRUE</span><span class="w">  </span><span class="kc">TRUE</span><span class="w">  </span><span class="kc">TRUE</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">b</span><span class="p">]</span><span class="w">                                        </span><span class="c1"># show values that fulfil the condition</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">  </span><span class="m">6</span><span class="w">  </span><span class="m">7</span><span class="w">  </span><span class="m">8</span><span class="w">  </span><span class="m">9</span><span class="w"> </span><span class="m">10</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">a</span><span class="o">&gt;</span><span class="m">5</span><span class="p">]</span><span class="w">                                      </span><span class="c1"># the same, but avoiding intermediate variable</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">  </span><span class="m">6</span><span class="w">  </span><span class="m">7</span><span class="w">  </span><span class="m">8</span><span class="w">  </span><span class="m">9</span><span class="w"> </span><span class="m">10</span>
</pre></div>
</div>
</section>
<section id="character-vectors">
<span id="charvectors"></span><h4>Character Vectors<a class="headerlink" href="#character-vectors" title="Link to this heading"></a></h4>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;This is an example&quot;</span><span class="w">                   </span><span class="c1"># generate a character vector</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w">                                           </span><span class="c1"># show vector content</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;This is an example&quot;</span>
</pre></div>
</div>
<p>We can concatenate vectors after converting them into character vectors:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1.5</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">-2.7</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">paste</span><span class="p">(</span><span class="s">&quot;Point is (&quot;</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="s">&quot;,&quot;</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="s">&quot;)&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">sep</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">)</span><span class="w">     </span><span class="c1"># concatenate x, y and a string using &#39;paste&#39;</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;Point is (1.5,-2.7)&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="matrices">
<span id="id1"></span><h3><span class="bblue">Matrices</span><a class="headerlink" href="#matrices" title="Link to this heading"></a></h3>
<p>A matrix is a <strong>bi-dimensional</strong> collection of data:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">12</span><span class="p">,</span><span class="w"> </span><span class="n">nrow</span><span class="o">=</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">ncol</span><span class="o">=</span><span class="m">4</span><span class="p">)</span><span class="w">           </span><span class="c1"># define a matrix with 3 rows and 4 columns</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="w">   </span><span class="p">[,</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="m">2</span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="m">3</span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="m">4</span><span class="p">]</span>
<span class="p">[</span><span class="m">1</span><span class="p">,]</span><span class="w">    </span><span class="m">1</span><span class="w">    </span><span class="m">4</span><span class="w">    </span><span class="m">7</span><span class="w">   </span><span class="m">10</span>
<span class="p">[</span><span class="m">2</span><span class="p">,]</span><span class="w">    </span><span class="m">2</span><span class="w">    </span><span class="m">5</span><span class="w">    </span><span class="m">8</span><span class="w">   </span><span class="m">11</span>
<span class="p">[</span><span class="m">3</span><span class="p">,]</span><span class="w">    </span><span class="m">3</span><span class="w">    </span><span class="m">6</span><span class="w">    </span><span class="m">9</span><span class="w">   </span><span class="m">12</span>

<span class="o">&gt;</span><span class="w"> </span><span class="nf">dim</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w">                                      </span><span class="c1"># return matrix dimensions (rows,columns)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">4</span>
</pre></div>
</div>
<p>The elements of vectors and matrices are <strong>recycled</strong> when it is required by the involved dimensions:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">8</span><span class="p">,</span><span class="w"> </span><span class="n">nrow</span><span class="o">=</span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="n">ncol</span><span class="o">=</span><span class="m">4</span><span class="p">)</span><span class="w">            </span><span class="c1"># create a matrix with 4 rows and 4 columns</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="w">     </span><span class="p">[,</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="m">2</span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="m">3</span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="m">4</span><span class="p">]</span>
<span class="p">[</span><span class="m">1</span><span class="p">,]</span><span class="w">    </span><span class="m">1</span><span class="w">    </span><span class="m">5</span><span class="w">    </span><span class="m">1</span><span class="w">    </span><span class="m">5</span>
<span class="p">[</span><span class="m">2</span><span class="p">,]</span><span class="w">    </span><span class="m">2</span><span class="w">    </span><span class="m">6</span><span class="w">    </span><span class="m">2</span><span class="w">    </span><span class="m">6</span>
<span class="p">[</span><span class="m">3</span><span class="p">,]</span><span class="w">    </span><span class="m">3</span><span class="w">    </span><span class="m">7</span><span class="w">    </span><span class="m">3</span><span class="w">    </span><span class="m">7</span>
<span class="p">[</span><span class="m">4</span><span class="p">,]</span><span class="w">    </span><span class="m">4</span><span class="w">    </span><span class="m">8</span><span class="w">    </span><span class="m">4</span><span class="w">    </span><span class="m">8</span>
</pre></div>
</div>
</section>
<section id="arrays">
<span id="id2"></span><h3><span class="bblue">Arrays</span><a class="headerlink" href="#arrays" title="Link to this heading"></a></h3>
<p>They are similar to the matrices although they can have 2 o more dimensions.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">array</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">24</span><span class="p">,</span><span class="w"> </span><span class="n">dim</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">4</span><span class="p">))</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">z</span>
<span class="p">,</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="m">1</span>

<span class="w">      </span><span class="p">[,</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="m">2</span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="m">3</span><span class="p">]</span>
<span class="p">[</span><span class="m">1</span><span class="p">,]</span><span class="w">    </span><span class="m">1</span><span class="w">    </span><span class="m">3</span><span class="w">    </span><span class="m">5</span>
<span class="p">[</span><span class="m">2</span><span class="p">,]</span><span class="w">    </span><span class="m">2</span><span class="w">    </span><span class="m">4</span><span class="w">    </span><span class="m">6</span>

<span class="p">,</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="m">2</span>

<span class="w">      </span><span class="p">[,</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="m">2</span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="m">3</span><span class="p">]</span>
<span class="p">[</span><span class="m">1</span><span class="p">,]</span><span class="w">    </span><span class="m">7</span><span class="w">    </span><span class="m">9</span><span class="w">   </span><span class="m">11</span>
<span class="p">[</span><span class="m">2</span><span class="p">,]</span><span class="w">    </span><span class="m">8</span><span class="w">   </span><span class="m">10</span><span class="w">   </span><span class="m">12</span>

<span class="p">,</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="m">3</span>

<span class="w">      </span><span class="p">[,</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="m">2</span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="m">3</span><span class="p">]</span>
<span class="p">[</span><span class="m">1</span><span class="p">,]</span><span class="w">   </span><span class="m">13</span><span class="w">   </span><span class="m">15</span><span class="w">   </span><span class="m">17</span>
<span class="p">[</span><span class="m">2</span><span class="p">,]</span><span class="w">   </span><span class="m">14</span><span class="w">   </span><span class="m">16</span><span class="w">   </span><span class="m">18</span>

<span class="p">,</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="m">4</span>

<span class="w">      </span><span class="p">[,</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="m">2</span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="m">3</span><span class="p">]</span>
<span class="p">[</span><span class="m">1</span><span class="p">,]</span><span class="w">   </span><span class="m">19</span><span class="w">   </span><span class="m">21</span><span class="w">   </span><span class="m">23</span>
<span class="p">[</span><span class="m">2</span><span class="p">,]</span><span class="w">   </span><span class="m">20</span><span class="w">   </span><span class="m">22</span><span class="w">   </span><span class="m">24</span>
</pre></div>
</div>
</section>
<section id="factors">
<span id="id3"></span><h3><span class="bred">Factors</span><a class="headerlink" href="#factors" title="Link to this heading"></a></h3>
<p>Factors are vectors that contain categorical information useful to group the values of other vectors of the same size.
Let’s see an example:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">bv</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">0.92</span><span class="p">,</span><span class="m">0.97</span><span class="p">,</span><span class="m">0.87</span><span class="p">,</span><span class="m">0.91</span><span class="p">,</span><span class="m">0.92</span><span class="p">,</span><span class="m">1.04</span><span class="p">,</span><span class="m">0.91</span><span class="p">,</span><span class="m">0.94</span><span class="p">,</span><span class="m">0.96</span><span class="p">,</span>
<span class="o">+</span><span class="w">         </span><span class="m">0.90</span><span class="p">,</span><span class="m">0.96</span><span class="p">,</span><span class="m">0.86</span><span class="p">,</span><span class="m">0.85</span><span class="p">)</span><span class="w">                        </span><span class="c1"># (B-V) colours from 13 galaxies</span>
</pre></div>
</div>
<p>If additional information is available (for instance, the morphological type of the galaxies) we
can create a <strong>factor</strong> containing the galaxy types:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">morfo</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;Sab&quot;</span><span class="p">,</span><span class="s">&quot;E&quot;</span><span class="p">,</span><span class="s">&quot;Sab&quot;</span><span class="p">,</span><span class="s">&quot;S0&quot;</span><span class="p">,</span><span class="s">&quot;E&quot;</span><span class="p">,</span><span class="s">&quot;E&quot;</span><span class="p">,</span><span class="s">&quot;S0&quot;</span><span class="p">,</span><span class="s">&quot;S0&quot;</span><span class="p">,</span><span class="s">&quot;E&quot;</span><span class="p">,</span>
<span class="o">+</span><span class="w">            </span><span class="s">&quot;Sab&quot;</span><span class="p">,</span><span class="s">&quot;E&quot;</span><span class="p">,</span><span class="s">&quot;Sab&quot;</span><span class="p">,</span><span class="s">&quot;S0&quot;</span><span class="p">)</span><span class="w">                    </span><span class="c1"># morphological info (same size)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">length</span><span class="p">(</span><span class="n">morfo</span><span class="p">)</span><span class="w">                                       </span><span class="c1"># ensure vector is the same size</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">13</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">fmorfo</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">factor</span><span class="p">(</span><span class="n">morfo</span><span class="p">)</span><span class="w">                             </span><span class="c1"># create factor with &#39;factor()&#39;</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">fmorfo</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="n">Sab</span><span class="w"> </span><span class="n">E</span><span class="w">   </span><span class="n">Sab</span><span class="w"> </span><span class="n">S0</span><span class="w">  </span><span class="n">E</span><span class="w">   </span><span class="n">E</span><span class="w">   </span><span class="n">S0</span><span class="w">  </span><span class="n">S0</span><span class="w">  </span><span class="n">E</span><span class="w">   </span><span class="n">Sab</span><span class="w"> </span><span class="n">E</span><span class="w">   </span><span class="n">Sab</span><span class="w"> </span><span class="n">S0</span><span class="w">        </span><span class="c1"># show factor content</span>
<span class="n">Levels</span><span class="o">:</span><span class="w"> </span><span class="n">E</span><span class="w"> </span><span class="n">S0</span><span class="w"> </span><span class="n">Sab</span><span class="w">                                      </span><span class="c1"># factor different values (levels)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">levels</span><span class="p">(</span><span class="n">fmorfo</span><span class="p">)</span><span class="w">                                      </span><span class="c1"># show factor levels</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;E&quot;</span><span class="w">   </span><span class="s">&quot;S0&quot;</span><span class="w">  </span><span class="s">&quot;Sab&quot;</span>
</pre></div>
</div>
<p>We could use this additional information to perform an statistical analysis segregating the data according
to these types. This will be covered lately in the  <a class="reference internal" href="#functions"><span class="std std-ref">Functions</span></a> section.</p>
</section>
<section id="lists">
<span id="id4"></span><h3>Lists<a class="headerlink" href="#lists" title="Link to this heading"></a></h3>
<p>Lists are ordered collections of objects, where the elements can be of a different type (a list can
be a combination of matrices, vectors, other lists, etc.) They are created using the <code class="docutils literal notranslate"><span class="pre">list()</span></code> function:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;NGC3379&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">morf</span><span class="o">=</span><span class="s">&quot;E&quot;</span><span class="p">,</span><span class="w"> </span><span class="bp">T</span><span class="n">.RC3</span><span class="o">=</span><span class="m">-5</span><span class="p">,</span><span class="w"> </span><span class="n">colours</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0.53</span><span class="p">,</span><span class="m">0.96</span><span class="p">))</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span>
<span class="o">$</span><span class="n">name</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;NGC3379&quot;</span>

<span class="o">$</span><span class="n">morf</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;E&quot;</span>

<span class="o">$</span><span class="bp">T</span><span class="n">.RC3</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">-5</span>

<span class="o">$</span><span class="n">colours</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">0.53</span><span class="w"> </span><span class="m">0.96</span>

<span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span><span class="o">$&lt;</span><span class="n">Tab</span><span class="o">&gt;</span><span class="w">                   </span><span class="c1"># pressing Tab key after &#39;$&#39;, the elements of &#39;gal&#39; are shown</span>
<span class="n">gal</span><span class="o">$</span><span class="n">name</span><span class="w">     </span><span class="n">gal</span><span class="o">$</span><span class="n">morf</span><span class="w">     </span><span class="n">gal</span><span class="o">$</span><span class="bp">T</span><span class="n">.RC3</span><span class="w">    </span><span class="n">gal</span><span class="o">$</span><span class="n">colours</span>

<span class="o">&gt;</span><span class="w"> </span><span class="nf">length</span><span class="p">(</span><span class="n">gal</span><span class="p">)</span><span class="w">                 </span><span class="c1"># check how many elements &#39;gal&#39; has</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">4</span>

<span class="o">&gt;</span><span class="w"> </span><span class="nf">names</span><span class="p">(</span><span class="n">gal</span><span class="p">)</span><span class="w">                  </span><span class="c1"># return element names</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;name&quot;</span><span class="w">    </span><span class="s">&quot;morf&quot;</span><span class="w">    </span><span class="s">&quot;T.RC3&quot;</span><span class="w">   </span><span class="s">&quot;colours&quot;</span>
</pre></div>
</div>
<p>New elements can be added in a simple way, just defining them:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span><span class="o">$</span><span class="n">radio</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="kc">TRUE</span><span class="w">                           </span><span class="c1"># add a boolean element</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span><span class="o">$</span><span class="n">redshift</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">0.002922</span><span class="w">                    </span><span class="c1"># add a numeric element</span>

<span class="o">&gt;</span><span class="w"> </span><span class="nf">names</span><span class="p">(</span><span class="n">gal</span><span class="p">)</span><span class="w">                                  </span><span class="c1"># return element names</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;name&quot;</span><span class="w">     </span><span class="s">&quot;morf&quot;</span><span class="w">     </span><span class="s">&quot;T.RC3&quot;</span><span class="w">    </span><span class="s">&quot;colours&quot;</span><span class="w">  </span><span class="s">&quot;radio&quot;</span><span class="w">    </span><span class="s">&quot;redshift&quot;</span>
</pre></div>
</div>
<p>Lists can be concatenated to generate bigger lists. If we have <code class="docutils literal notranslate"><span class="pre">list1</span></code>, <code class="docutils literal notranslate"><span class="pre">list2</span></code>, <code class="docutils literal notranslate"><span class="pre">list3</span></code>, we can create
a unique list which is the result of the union of these three lists:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">list123</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">list1</span><span class="p">,</span><span class="w"> </span><span class="n">list2</span><span class="p">,</span><span class="w"> </span><span class="n">list3</span><span class="p">)</span>
</pre></div>
</div>
<p>As the elements in a list can be R objects of a different type:</p>
<ul class="simple">
<li><p><span class="green">Lists are extremely versatile since they can store every type of information (good)</span></p></li>
<li><p><span class="red">Lists can be converted in objects with a rather complex structure (bad).</span> A list can contain several elements which are vectors of different length, which is similar to having a table where the columns have a different number of rows.</p></li>
</ul>
<p><span class="blue">The ideal situation is to take advantage of the list versatility but preventing them from growing with a very
complex structure. This is why R has defined a new type of data which fulfils both requirements: a</span> <span class="bblue">Data Frame.</span></p>
</section>
<section id="data-frames-tables">
<span id="dataframes"></span><h3><span class="bmagenta">Data Frames (Tables)</span><a class="headerlink" href="#data-frames-tables" title="Link to this heading"></a></h3>
<p>A <em>Data Frame</em> is an special type of list very useful for the statistical work. There are some restrictions to guarantee
that they can be used for this statistical purpose.</p>
<p>Among other restrictions, a <em>Data Frame</em> must verify that:</p>
<ul class="simple">
<li><p>List components must be vectors (numeric, character or logical vectors), factors, numeric matrices or other data frames.</p></li>
<li><p>Vectors, which are the variables in the data frame, must be of the same length.</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In a data frame, character vectors are automatically converted into factors for R &lt; 4.0.0, and the number of levels can be
determined as the number of different values in such a vector. This default behaviour was modified for R 4.0.0. It can be changed with the
<code class="docutils literal notranslate"><span class="pre">options(stringsAsFactors</span> <span class="pre">=</span> <span class="pre">TRUE/FALSE)</span></code> command.</p>
</div>
<p>Basically, in a <em>Data Frame</em> all the information is displayed as a <strong>table</strong> where the columns have the
same number of rows and can contain different type objects (numbers, characters, …).</p>
<p><em>Data Frames</em> can be created using the <code class="docutils literal notranslate"><span class="pre">data.frame()</span></code> function. Let’s see how to define a <em>data frame</em> with
two elements, a numeric vector and a character vector (note that both must be same length vectors):</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="nf">options</span><span class="p">(</span><span class="n">stringsAsFactors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">data.frame</span><span class="p">(</span><span class="n">numbers</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="m">20</span><span class="p">,</span><span class="m">30</span><span class="p">,</span><span class="m">40</span><span class="p">),</span><span class="n">text</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">,</span><span class="s">&quot;b&quot;</span><span class="p">,</span><span class="s">&quot;c&quot;</span><span class="p">,</span><span class="s">&quot;a&quot;</span><span class="p">))</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">df</span>
<span class="w">  </span><span class="n">numbers</span><span class="w"> </span><span class="n">text</span>
<span class="m">1</span><span class="w">      </span><span class="m">10</span><span class="w">    </span><span class="n">a</span>
<span class="m">2</span><span class="w">      </span><span class="m">20</span><span class="w">    </span><span class="n">b</span>
<span class="m">3</span><span class="w">      </span><span class="m">30</span><span class="w">    </span><span class="n">c</span>
<span class="m">4</span><span class="w">      </span><span class="m">40</span><span class="w">    </span><span class="n">a</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">df</span><span class="o">$</span><span class="n">text</span><span class="w">                                     </span><span class="c1"># character vector not converted to a factor</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="w"> </span><span class="s">&quot;b&quot;</span><span class="w"> </span><span class="s">&quot;c&quot;</span><span class="w"> </span><span class="s">&quot;a&quot;</span>


<span class="o">&gt;</span><span class="w"> </span><span class="nf">options</span><span class="p">(</span><span class="n">stringsAsFactors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">            </span><span class="c1"># default</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">data.frame</span><span class="p">(</span><span class="n">numbers</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="m">20</span><span class="p">,</span><span class="m">30</span><span class="p">,</span><span class="m">40</span><span class="p">),</span><span class="n">text</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">,</span><span class="s">&quot;b&quot;</span><span class="p">,</span><span class="s">&quot;c&quot;</span><span class="p">,</span><span class="s">&quot;a&quot;</span><span class="p">))</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">df</span><span class="o">$</span><span class="n">text</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="n">a</span><span class="w">                                   </span><span class="c1"># character vector of length = 4</span>
<span class="n">Levels</span><span class="o">:</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="n">c</span><span class="w">                                 </span><span class="c1">#  converted to a three levels factor!!</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">df</span><span class="o">$</span><span class="n">numbers</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="m">40</span><span class="w">                               </span><span class="c1"># numeric vector of length = 4</span>

<span class="o">&gt;</span><span class="w"> </span><span class="nf">mode</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w">                                    </span><span class="c1"># storage mode of the object</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;list&quot;</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">typeof</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w">                                  </span><span class="c1"># (internal) storage mode of the object</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;list&quot;</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w">                                   </span><span class="c1"># object class</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;data.frame&quot;</span>
</pre></div>
</div>
<p>However the most common way of defining a <em>data frame</em> is reading the data stored in a file. We will
see later how to do it using <code class="docutils literal notranslate"><span class="pre">read.table()</span></code> function.</p>
<section id="factors-and-tables">
<span id="factorstables"></span><h4>Factors and Tables<a class="headerlink" href="#factors-and-tables" title="Link to this heading"></a></h4>
<p>It is frequently useful (for instance, for table creation) to be able to generate factors from a numeric
continuum variable. To do so, we can use the <code class="docutils literal notranslate"><span class="pre">cut</span></code> command. Its parameter <code class="docutils literal notranslate"><span class="pre">breaks</span></code> defines how the data
are divided. <strong>If</strong> <code class="docutils literal notranslate"><span class="pre">breaks</span></code> <strong>is a number</strong>, this is used as the number of (same length) intervals:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">bv</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">0.92</span><span class="p">,</span><span class="m">0.97</span><span class="p">,</span><span class="m">0.87</span><span class="p">,</span><span class="m">0.91</span><span class="p">,</span><span class="m">0.92</span><span class="p">,</span><span class="m">1.04</span><span class="p">,</span><span class="m">0.91</span><span class="p">,</span><span class="m">0.94</span><span class="p">,</span><span class="m">0.96</span><span class="p">,</span>
<span class="o">+</span><span class="w">         </span><span class="m">0.90</span><span class="p">,</span><span class="m">0.96</span><span class="p">,</span><span class="m">0.86</span><span class="p">,</span><span class="m">0.85</span><span class="p">)</span><span class="w">                </span><span class="c1"># (B-V) colors from 13 galaxies</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">fbv</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">cut</span><span class="p">(</span><span class="n">bv</span><span class="p">,</span><span class="n">breaks</span><span class="o">=</span><span class="m">3</span><span class="p">)</span><span class="w">                     </span><span class="c1"># divide &#39;bv&#39; in 3 equal-length intervals</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">fbv</span><span class="w">                                         </span><span class="c1"># show in which interval every galaxy is</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="m">0.913</span><span class="p">,</span><span class="m">0.977</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="m">0.913</span><span class="p">,</span><span class="m">0.977</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="m">0.85</span><span class="p">,</span><span class="m">0.913</span><span class="p">]</span><span class="w">  </span><span class="p">(</span><span class="m">0.85</span><span class="p">,</span><span class="m">0.913</span><span class="p">]</span><span class="w">  </span><span class="p">(</span><span class="m">0.913</span><span class="p">,</span><span class="m">0.977</span><span class="p">]</span>
<span class="p">[</span><span class="m">6</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="m">0.977</span><span class="p">,</span><span class="m">1.04</span><span class="p">]</span><span class="w">  </span><span class="p">(</span><span class="m">0.85</span><span class="p">,</span><span class="m">0.913</span><span class="p">]</span><span class="w">  </span><span class="p">(</span><span class="m">0.913</span><span class="p">,</span><span class="m">0.977</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="m">0.913</span><span class="p">,</span><span class="m">0.977</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="m">0.85</span><span class="p">,</span><span class="m">0.913</span><span class="p">]</span>
<span class="p">[</span><span class="m">11</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="m">0.913</span><span class="p">,</span><span class="m">0.977</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="m">0.85</span><span class="p">,</span><span class="m">0.913</span><span class="p">]</span><span class="w">  </span><span class="p">(</span><span class="m">0.85</span><span class="p">,</span><span class="m">0.913</span><span class="p">]</span>
<span class="n">Levels</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="m">0.85</span><span class="p">,</span><span class="m">0.913</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="m">0.913</span><span class="p">,</span><span class="m">0.977</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="m">0.977</span><span class="p">,</span><span class="m">1.04</span><span class="p">]</span><span class="w">       </span><span class="c1"># the 3 intervals</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">table</span><span class="p">(</span><span class="n">fbv</span><span class="p">)</span><span class="w">                                  </span><span class="c1"># generate a table with the 3 intervals</span>
<span class="nf">fbv</span>
<span class="nf">  </span><span class="p">(</span><span class="m">0.85</span><span class="p">,</span><span class="m">0.913</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="m">0.913</span><span class="p">,</span><span class="m">0.977</span><span class="p">]</span><span class="w">  </span><span class="p">(</span><span class="m">0.977</span><span class="p">,</span><span class="m">1.04</span><span class="p">]</span>
<span class="w">          </span><span class="m">6</span><span class="w">             </span><span class="m">6</span><span class="w">             </span><span class="m">1</span>
</pre></div>
</div>
<p><strong>If</strong> <code class="docutils literal notranslate"><span class="pre">breaks</span></code> <strong>is a vector</strong>, its values are used as the limits of the intervals:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">ffbv</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">cut</span><span class="p">(</span><span class="n">bv</span><span class="p">,</span><span class="n">breaks</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0.80</span><span class="p">,</span><span class="m">0.90</span><span class="p">,</span><span class="m">1.00</span><span class="p">,</span><span class="m">1.10</span><span class="p">))</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">table</span><span class="p">(</span><span class="n">ffbv</span><span class="p">)</span>
<span class="nf">ffbv</span>
<span class="nf">  </span><span class="p">(</span><span class="m">0.8</span><span class="p">,</span><span class="m">0.9</span><span class="p">]</span><span class="w">   </span><span class="p">(</span><span class="m">0.9</span><span class="p">,</span><span class="m">1</span><span class="p">]</span><span class="w">   </span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">1.1</span><span class="p">]</span>
<span class="w">      </span><span class="m">4</span><span class="w">         </span><span class="m">8</span><span class="w">         </span><span class="m">1</span>
</pre></div>
</div>
<p>If we want just an approximate number of intervals, but with equally spaced <em>round</em> values, we can use the
<code class="docutils literal notranslate"><span class="pre">pretty()</span></code> function (that not always returns the specified number of intervals!):</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">fffbv</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">cut</span><span class="p">(</span><span class="n">bv</span><span class="p">,</span><span class="nf">pretty</span><span class="p">(</span><span class="n">bv</span><span class="p">,</span><span class="m">3</span><span class="p">))</span><span class="w">               </span><span class="c1"># ask for 3 &#39;pretty&#39; intervals</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">table</span><span class="p">(</span><span class="n">fffbv</span><span class="p">)</span><span class="w">                                </span><span class="c1"># return 4 intervals</span>
<span class="nf">fffbv</span>
<span class="nf">  </span><span class="p">(</span><span class="m">0.85</span><span class="p">,</span><span class="m">0.9</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="m">0.9</span><span class="p">,</span><span class="m">0.95</span><span class="p">]</span><span class="w">   </span><span class="p">(</span><span class="m">0.95</span><span class="p">,</span><span class="m">1</span><span class="p">]</span><span class="w">   </span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">1.05</span><span class="p">]</span>
<span class="w">       </span><span class="m">3</span><span class="w">          </span><span class="m">5</span><span class="w">          </span><span class="m">3</span><span class="w">          </span><span class="m">1</span>
</pre></div>
</div>
<p>We can also use a quantile division:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">ffffbv</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">cut</span><span class="p">(</span><span class="n">bv</span><span class="p">,</span><span class="nf">quantile</span><span class="p">(</span><span class="n">bv</span><span class="p">,(</span><span class="m">0</span><span class="o">:</span><span class="m">4</span><span class="p">)</span><span class="o">/</span><span class="m">4</span><span class="p">))</span><span class="w">      </span><span class="c1"># ask for the 4 quantiles</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">table</span><span class="p">(</span><span class="n">ffffbv</span><span class="p">)</span>
<span class="nf">ffffbv</span>
<span class="nf">  </span><span class="p">(</span><span class="m">0.85</span><span class="p">,</span><span class="m">0.9</span><span class="p">]</span><span class="w">  </span><span class="p">(</span><span class="m">0.9</span><span class="p">,</span><span class="m">0.92</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="m">0.92</span><span class="p">,</span><span class="m">0.96</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="m">0.96</span><span class="p">,</span><span class="m">1.04</span><span class="p">]</span>
<span class="w">        </span><span class="m">3</span><span class="w">           </span><span class="m">4</span><span class="w">           </span><span class="m">3</span><span class="w">           </span><span class="m">2</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The last two groupings exclude the value 0.85 which is one of our data values.</p>
</div>
<p>Factors can be used to build multi-dimensional tables. Let’s see how.
First of all, we will define the data (that in a real case would be read from a data file):</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">heights</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1.64</span><span class="p">,</span><span class="m">1.76</span><span class="p">,</span><span class="m">1.79</span><span class="p">,</span><span class="m">1.65</span><span class="p">,</span><span class="m">1.68</span><span class="p">,</span><span class="m">1.65</span><span class="p">,</span><span class="m">1.86</span><span class="p">,</span><span class="m">1.82</span><span class="p">,</span><span class="m">1.73</span><span class="p">,</span>
<span class="o">+</span><span class="w">              </span><span class="m">1.75</span><span class="p">,</span><span class="m">1.59</span><span class="p">,</span><span class="m">1.87</span><span class="p">,</span><span class="m">1.73</span><span class="p">,</span><span class="m">1.57</span><span class="p">,</span><span class="m">1.63</span><span class="p">,</span><span class="m">1.71</span><span class="p">,</span><span class="m">1.68</span><span class="p">,</span><span class="m">1.73</span><span class="p">,</span><span class="m">1.53</span><span class="p">,</span><span class="m">1.82</span><span class="p">)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">weights</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">64</span><span class="p">,</span><span class="m">77</span><span class="p">,</span><span class="m">82</span><span class="p">,</span><span class="m">62</span><span class="p">,</span><span class="m">71</span><span class="p">,</span><span class="m">72</span><span class="p">,</span><span class="m">85</span><span class="p">,</span><span class="m">68</span><span class="p">,</span><span class="m">72</span><span class="p">,</span><span class="m">75</span><span class="p">,</span><span class="m">81</span><span class="p">,</span><span class="m">88</span><span class="p">,</span><span class="m">72</span><span class="p">,</span>
<span class="o">+</span><span class="w">              </span><span class="m">71</span><span class="p">,</span><span class="m">74</span><span class="p">,</span><span class="m">69</span><span class="p">,</span><span class="m">81</span><span class="p">,</span><span class="m">67</span><span class="p">,</span><span class="m">65</span><span class="p">,</span><span class="m">73</span><span class="p">)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">ages</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">12</span><span class="p">,</span><span class="m">34</span><span class="p">,</span><span class="m">23</span><span class="p">,</span><span class="m">53</span><span class="p">,</span><span class="m">23</span><span class="p">,</span><span class="m">12</span><span class="p">,</span><span class="m">53</span><span class="p">,</span><span class="m">38</span><span class="p">,</span><span class="m">83</span><span class="p">,</span><span class="m">28</span><span class="p">,</span><span class="m">28</span><span class="p">,</span><span class="m">58</span><span class="p">,</span><span class="m">38</span><span class="p">,</span>
<span class="o">+</span><span class="w">           </span><span class="m">63</span><span class="p">,</span><span class="m">72</span><span class="p">,</span><span class="m">44</span><span class="p">,</span><span class="m">33</span><span class="p">,</span><span class="m">27</span><span class="p">,</span><span class="m">32</span><span class="p">,</span><span class="m">38</span><span class="p">)</span>
</pre></div>
</div>
<p>For each one of these variables we can generate factors:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">fheights</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">cut</span><span class="p">(</span><span class="n">heights</span><span class="p">,</span><span class="nf">c</span><span class="p">(</span><span class="m">1.50</span><span class="p">,</span><span class="m">1.60</span><span class="p">,</span><span class="m">1.70</span><span class="p">,</span><span class="m">1.80</span><span class="p">,</span><span class="m">1.90</span><span class="p">))</span><span class="w">        </span><span class="c1"># factor for &#39;heights&#39;</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">fweights</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">cut</span><span class="p">(</span><span class="n">weights</span><span class="p">,</span><span class="nf">c</span><span class="p">(</span><span class="m">60</span><span class="p">,</span><span class="m">70</span><span class="p">,</span><span class="m">80</span><span class="p">,</span><span class="m">90</span><span class="p">))</span><span class="w">                     </span><span class="c1"># factor for &#39;weights&#39;</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">fages</span><span class="w">    </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">cut</span><span class="p">(</span><span class="n">ages</span><span class="p">,</span><span class="nf">seq</span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="m">90</span><span class="p">,</span><span class="m">10</span><span class="p">))</span><span class="w">                         </span><span class="c1"># factor for &#39;ages&#39;</span>
</pre></div>
</div>
<p>Table generation is now straightforward using these factors. We can, for instance, generate  bi-dimensional tables:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">ta</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">table</span><span class="p">(</span><span class="n">fheights</span><span class="p">,</span><span class="w"> </span><span class="n">fweights</span><span class="p">)</span><span class="w">                     </span><span class="c1"># table for &#39;heights&#39; vs. &#39;weights&#39;</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">ta</span>
<span class="w">           </span><span class="n">fweights</span>
<span class="nf">fheights    </span><span class="p">(</span><span class="m">60</span><span class="p">,</span><span class="m">70</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="m">70</span><span class="p">,</span><span class="m">80</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="m">80</span><span class="p">,</span><span class="m">90</span><span class="p">]</span>
<span class="w">  </span><span class="p">(</span><span class="m">1.5</span><span class="p">,</span><span class="m">1.6</span><span class="p">]</span><span class="w">       </span><span class="m">1</span><span class="w">       </span><span class="m">1</span><span class="w">       </span><span class="m">1</span>
<span class="w">  </span><span class="p">(</span><span class="m">1.6</span><span class="p">,</span><span class="m">1.7</span><span class="p">]</span><span class="w">       </span><span class="m">2</span><span class="w">       </span><span class="m">3</span><span class="w">       </span><span class="m">1</span>
<span class="w">  </span><span class="p">(</span><span class="m">1.7</span><span class="p">,</span><span class="m">1.8</span><span class="p">]</span><span class="w">       </span><span class="m">2</span><span class="w">       </span><span class="m">4</span><span class="w">       </span><span class="m">1</span>
<span class="w">  </span><span class="p">(</span><span class="m">1.8</span><span class="p">,</span><span class="m">1.9</span><span class="p">]</span><span class="w">       </span><span class="m">1</span><span class="w">       </span><span class="m">1</span><span class="w">       </span><span class="m">2</span>
</pre></div>
</div>
<p>Marginal frequencies can also be included:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="nf">addmargins</span><span class="p">(</span><span class="n">ta</span><span class="p">)</span>
<span class="w">           </span><span class="n">fweights</span>
<span class="nf">fheights    </span><span class="p">(</span><span class="m">60</span><span class="p">,</span><span class="m">70</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="m">70</span><span class="p">,</span><span class="m">80</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="m">80</span><span class="p">,</span><span class="m">90</span><span class="p">]</span><span class="w"> </span><span class="nf">Sum</span>
<span class="nf">  </span><span class="p">(</span><span class="m">1.5</span><span class="p">,</span><span class="m">1.6</span><span class="p">]</span><span class="w">       </span><span class="m">1</span><span class="w">       </span><span class="m">1</span><span class="w">       </span><span class="m">1</span><span class="w">   </span><span class="m">3</span>
<span class="w">  </span><span class="p">(</span><span class="m">1.6</span><span class="p">,</span><span class="m">1.7</span><span class="p">]</span><span class="w">       </span><span class="m">2</span><span class="w">       </span><span class="m">3</span><span class="w">       </span><span class="m">1</span><span class="w">   </span><span class="m">6</span>
<span class="w">  </span><span class="p">(</span><span class="m">1.7</span><span class="p">,</span><span class="m">1.8</span><span class="p">]</span><span class="w">       </span><span class="m">2</span><span class="w">       </span><span class="m">4</span><span class="w">       </span><span class="m">1</span><span class="w">   </span><span class="m">7</span>
<span class="w">  </span><span class="p">(</span><span class="m">1.8</span><span class="p">,</span><span class="m">1.9</span><span class="p">]</span><span class="w">       </span><span class="m">1</span><span class="w">       </span><span class="m">1</span><span class="w">       </span><span class="m">2</span><span class="w">   </span><span class="m">4</span>
<span class="w">  </span><span class="n">Sum</span><span class="w">             </span><span class="m">6</span><span class="w">       </span><span class="m">9</span><span class="w">       </span><span class="m">5</span><span class="w">  </span><span class="m">20</span>
</pre></div>
</div>
<p>Or we can work with the relative frequencies;</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">tta</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">prop.table</span><span class="p">(</span><span class="n">ta</span><span class="p">)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">addmargins</span><span class="p">(</span><span class="n">tta</span><span class="p">)</span>
<span class="w">         </span><span class="n">fweights</span>
<span class="nf">fheights    </span><span class="p">(</span><span class="m">60</span><span class="p">,</span><span class="m">70</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="m">70</span><span class="p">,</span><span class="m">80</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="m">80</span><span class="p">,</span><span class="m">90</span><span class="p">]</span><span class="w">  </span><span class="nf">Sum</span>
<span class="nf">  </span><span class="p">(</span><span class="m">1.5</span><span class="p">,</span><span class="m">1.6</span><span class="p">]</span><span class="w">    </span><span class="m">0.05</span><span class="w">    </span><span class="m">0.05</span><span class="w">    </span><span class="m">0.05</span><span class="w"> </span><span class="m">0.15</span>
<span class="w">  </span><span class="p">(</span><span class="m">1.6</span><span class="p">,</span><span class="m">1.7</span><span class="p">]</span><span class="w">    </span><span class="m">0.10</span><span class="w">    </span><span class="m">0.15</span><span class="w">    </span><span class="m">0.05</span><span class="w"> </span><span class="m">0.30</span>
<span class="w">  </span><span class="p">(</span><span class="m">1.7</span><span class="p">,</span><span class="m">1.8</span><span class="p">]</span><span class="w">    </span><span class="m">0.10</span><span class="w">    </span><span class="m">0.20</span><span class="w">    </span><span class="m">0.05</span><span class="w"> </span><span class="m">0.35</span>
<span class="w">  </span><span class="p">(</span><span class="m">1.8</span><span class="p">,</span><span class="m">1.9</span><span class="p">]</span><span class="w">    </span><span class="m">0.05</span><span class="w">    </span><span class="m">0.05</span><span class="w">    </span><span class="m">0.10</span><span class="w"> </span><span class="m">0.20</span>
<span class="w">  </span><span class="n">Sum</span><span class="w">          </span><span class="m">0.30</span><span class="w">    </span><span class="m">0.45</span><span class="w">    </span><span class="m">0.25</span><span class="w"> </span><span class="m">1.00</span>
</pre></div>
</div>
<p>We can also generate tridimensional tables. Following the previous example, we can examine the same
bi-dimensional table for each age interval:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="nf">table</span><span class="p">(</span><span class="n">fheights</span><span class="p">,</span><span class="w"> </span><span class="n">fweights</span><span class="p">,</span><span class="w"> </span><span class="n">fages</span><span class="p">)</span>
<span class="p">,</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">fages</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="m">20</span><span class="p">]</span><span class="w">                                   </span><span class="c1"># first age interval</span>

<span class="w">         </span><span class="n">fweights</span>
<span class="nf">fheights    </span><span class="p">(</span><span class="m">60</span><span class="p">,</span><span class="m">70</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="m">70</span><span class="p">,</span><span class="m">80</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="m">80</span><span class="p">,</span><span class="m">90</span><span class="p">]</span>
<span class="w">  </span><span class="p">(</span><span class="m">1.5</span><span class="p">,</span><span class="m">1.6</span><span class="p">]</span><span class="w">       </span><span class="m">0</span><span class="w">       </span><span class="m">0</span><span class="w">       </span><span class="m">0</span>
<span class="w">  </span><span class="p">(</span><span class="m">1.6</span><span class="p">,</span><span class="m">1.7</span><span class="p">]</span><span class="w">       </span><span class="m">1</span><span class="w">       </span><span class="m">1</span><span class="w">       </span><span class="m">0</span>
<span class="w">  </span><span class="p">(</span><span class="m">1.7</span><span class="p">,</span><span class="m">1.8</span><span class="p">]</span><span class="w">       </span><span class="m">0</span><span class="w">       </span><span class="m">0</span><span class="w">       </span><span class="m">0</span>
<span class="w">  </span><span class="p">(</span><span class="m">1.8</span><span class="p">,</span><span class="m">1.9</span><span class="p">]</span><span class="w">       </span><span class="m">0</span><span class="w">       </span><span class="m">0</span><span class="w">       </span><span class="m">0</span>

<span class="p">,</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">fages</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="m">20</span><span class="p">,</span><span class="m">30</span><span class="p">]</span><span class="w">                                   </span><span class="c1"># second age interval</span>

<span class="w">         </span><span class="n">fweights</span>
<span class="nf">fheights    </span><span class="p">(</span><span class="m">60</span><span class="p">,</span><span class="m">70</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="m">70</span><span class="p">,</span><span class="m">80</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="m">80</span><span class="p">,</span><span class="m">90</span><span class="p">]</span>
<span class="w">  </span><span class="p">(</span><span class="m">1.5</span><span class="p">,</span><span class="m">1.6</span><span class="p">]</span><span class="w">       </span><span class="m">0</span><span class="w">       </span><span class="m">0</span><span class="w">       </span><span class="m">1</span>
<span class="w">  </span><span class="p">(</span><span class="m">1.6</span><span class="p">,</span><span class="m">1.7</span><span class="p">]</span><span class="w">       </span><span class="m">0</span><span class="w">       </span><span class="m">1</span><span class="w">       </span><span class="m">0</span>
<span class="w">  </span><span class="p">(</span><span class="m">1.7</span><span class="p">,</span><span class="m">1.8</span><span class="p">]</span><span class="w">       </span><span class="m">1</span><span class="w">       </span><span class="m">1</span><span class="w">       </span><span class="m">1</span>
<span class="w">  </span><span class="p">(</span><span class="m">1.8</span><span class="p">,</span><span class="m">1.9</span><span class="p">]</span><span class="w">       </span><span class="m">0</span><span class="w">       </span><span class="m">0</span><span class="w">       </span><span class="m">0</span>

<span class="n">........</span>

<span class="p">,</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">fages</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="m">70</span><span class="p">,</span><span class="m">80</span><span class="p">]</span><span class="w">                                   </span><span class="c1"># next-to-the-last age interval</span>

<span class="w">         </span><span class="n">fweights</span>
<span class="nf">fheights    </span><span class="p">(</span><span class="m">60</span><span class="p">,</span><span class="m">70</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="m">70</span><span class="p">,</span><span class="m">80</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="m">80</span><span class="p">,</span><span class="m">90</span><span class="p">]</span>
<span class="w">  </span><span class="p">(</span><span class="m">1.5</span><span class="p">,</span><span class="m">1.6</span><span class="p">]</span><span class="w">       </span><span class="m">0</span><span class="w">       </span><span class="m">0</span><span class="w">       </span><span class="m">0</span>
<span class="w">  </span><span class="p">(</span><span class="m">1.6</span><span class="p">,</span><span class="m">1.7</span><span class="p">]</span><span class="w">       </span><span class="m">0</span><span class="w">       </span><span class="m">1</span><span class="w">       </span><span class="m">0</span>
<span class="w">  </span><span class="p">(</span><span class="m">1.7</span><span class="p">,</span><span class="m">1.8</span><span class="p">]</span><span class="w">       </span><span class="m">0</span><span class="w">       </span><span class="m">0</span><span class="w">       </span><span class="m">0</span>
<span class="w">  </span><span class="p">(</span><span class="m">1.8</span><span class="p">,</span><span class="m">1.9</span><span class="p">]</span><span class="w">       </span><span class="m">0</span><span class="w">       </span><span class="m">0</span><span class="w">       </span><span class="m">0</span>

<span class="p">,</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">fages</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="m">80</span><span class="p">,</span><span class="m">90</span><span class="p">]</span><span class="w">                                   </span><span class="c1"># last age interval</span>

<span class="w">         </span><span class="n">fweights</span>
<span class="nf">fheights    </span><span class="p">(</span><span class="m">60</span><span class="p">,</span><span class="m">70</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="m">70</span><span class="p">,</span><span class="m">80</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="m">80</span><span class="p">,</span><span class="m">90</span><span class="p">]</span>
<span class="w">  </span><span class="p">(</span><span class="m">1.5</span><span class="p">,</span><span class="m">1.6</span><span class="p">]</span><span class="w">       </span><span class="m">0</span><span class="w">       </span><span class="m">0</span><span class="w">       </span><span class="m">0</span>
<span class="w">  </span><span class="p">(</span><span class="m">1.6</span><span class="p">,</span><span class="m">1.7</span><span class="p">]</span><span class="w">       </span><span class="m">0</span><span class="w">       </span><span class="m">0</span><span class="w">       </span><span class="m">0</span>
<span class="w">  </span><span class="p">(</span><span class="m">1.7</span><span class="p">,</span><span class="m">1.8</span><span class="p">]</span><span class="w">       </span><span class="m">0</span><span class="w">       </span><span class="m">1</span><span class="w">       </span><span class="m">0</span>
<span class="w">  </span><span class="p">(</span><span class="m">1.8</span><span class="p">,</span><span class="m">1.9</span><span class="p">]</span><span class="w">       </span><span class="m">0</span><span class="w">       </span><span class="m">0</span><span class="w">       </span><span class="m">0</span>

<span class="o">&gt;</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="nf">table</span><span class="p">(</span><span class="n">fheights</span><span class="p">,</span><span class="w"> </span><span class="n">fweights</span><span class="p">,</span><span class="w"> </span><span class="n">fages</span><span class="p">))</span><span class="w">               </span><span class="c1"># check total number of entries</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">20</span>
</pre></div>
</div>
</section>
<section id="matrices-and-tables">
<span id="matricestables"></span><h4>Matrices and Tables<a class="headerlink" href="#matrices-and-tables" title="Link to this heading"></a></h4>
<p>We can easily generate 2D tables from matrices:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">mtab</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">matrix</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="m">30</span><span class="p">,</span><span class="m">12</span><span class="p">,</span><span class="m">47</span><span class="p">,</span><span class="m">58</span><span class="p">,</span><span class="m">25</span><span class="p">,</span><span class="m">32</span><span class="p">),</span><span class="w"> </span><span class="n">ncol</span><span class="o">=</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="n">byrow</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span><span class="w">    </span><span class="c1"># create a matrix filled by rows</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">colnames</span><span class="p">(</span><span class="n">mtab</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;ellipticals&quot;</span><span class="p">,</span><span class="s">&quot;spirals&quot;</span><span class="p">)</span><span class="w">                </span><span class="c1"># set matrix column names</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">rownames</span><span class="p">(</span><span class="n">mtab</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;sample1&quot;</span><span class="p">,</span><span class="s">&quot;sample2&quot;</span><span class="p">,</span><span class="s">&quot;new sample&quot;</span><span class="p">)</span><span class="w">       </span><span class="c1"># set matrix row names</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">mtab</span>
<span class="w">           </span><span class="n">ellipticals</span><span class="w"> </span><span class="n">spirals</span>
<span class="n">sample1</span><span class="w">             </span><span class="m">30</span><span class="w">      </span><span class="m">12</span>
<span class="n">sample2</span><span class="w">             </span><span class="m">47</span><span class="w">      </span><span class="m">58</span>
<span class="n">new</span><span class="w"> </span><span class="n">sample</span><span class="w">          </span><span class="m">25</span><span class="w">      </span><span class="m">32</span>
</pre></div>
</div>
<p>However, <code class="docutils literal notranslate"><span class="pre">mtab</span></code> is not a true R table. To transform it into a true table we can use:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">rtab</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.table</span><span class="p">(</span><span class="n">mtab</span><span class="p">)</span>

<span class="o">&gt;</span><span class="w"> </span><span class="nf">mode</span><span class="p">(</span><span class="n">mtab</span><span class="p">);</span><span class="nf">mode</span><span class="p">(</span><span class="n">rtab</span><span class="p">)</span><span class="w">                               </span><span class="c1"># indistinguishable in &#39;mode&#39;</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;numeric&quot;</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;numeric&quot;</span>

<span class="o">&gt;</span><span class="w"> </span><span class="nf">typeof</span><span class="p">(</span><span class="n">mtab</span><span class="p">);</span><span class="nf">typeof</span><span class="p">(</span><span class="n">rtab</span><span class="p">)</span><span class="w">                           </span><span class="c1"># indistinguishable in &#39;typeof&#39;</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;double&quot;</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;double&quot;</span>

<span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">mtab</span><span class="p">);</span><span class="nf">class</span><span class="p">(</span><span class="n">rtab</span><span class="p">)</span><span class="w">                             </span><span class="c1"># but different in &#39;class&#39; !</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;matrix&quot;</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;table&quot;</span>
</pre></div>
</div>
<p>In addition to the functions to calculate <em>marginal distributions</em> (<code class="docutils literal notranslate"><span class="pre">margin.table</span></code>),
<em>frequencies</em> (<code class="docutils literal notranslate"><span class="pre">prop.table</span></code>), etc., the command <code class="docutils literal notranslate"><span class="pre">summary</span></code> returns the
<span class="math notranslate nohighlight">\(\chi^2\)</span> test for the independence of the factors:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="nf">summary</span><span class="p">(</span><span class="n">rtab</span><span class="p">)</span>
<span class="n">Number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">cases</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">table</span><span class="o">:</span><span class="w"> </span><span class="m">204</span>
<span class="n">Number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">factors</span><span class="o">:</span><span class="w"> </span><span class="m">2</span>
<span class="n">Test</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">independence</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">factors</span><span class="o">:</span>
<span class="w">        </span><span class="n">Chisq</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">9.726</span><span class="p">,</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="o">-</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.007726</span>
</pre></div>
</div>
<p>The same command returns a different result when it is applied to a matrix type object:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="nf">summary</span><span class="p">(</span><span class="n">mtab</span><span class="p">)</span>
<span class="w">        </span><span class="n">V1</span><span class="w">             </span><span class="n">V2</span>
<span class="w">  </span><span class="n">Min.</span><span class="w">   </span><span class="o">:</span><span class="m">25.0</span><span class="w">   </span><span class="n">Min.</span><span class="w">   </span><span class="o">:</span><span class="m">12</span>
<span class="w">  </span><span class="m">1</span><span class="n">st</span><span class="w"> </span><span class="n">Qu.</span><span class="o">:</span><span class="m">27.5</span><span class="w">   </span><span class="m">1</span><span class="n">st</span><span class="w"> </span><span class="n">Qu.</span><span class="o">:</span><span class="m">22</span>
<span class="w">  </span><span class="n">Median</span><span class="w"> </span><span class="o">:</span><span class="m">30.0</span><span class="w">   </span><span class="n">Median</span><span class="w"> </span><span class="o">:</span><span class="m">32</span>
<span class="w">  </span><span class="n">Mean</span><span class="w">   </span><span class="o">:</span><span class="m">34.0</span><span class="w">   </span><span class="n">Mean</span><span class="w">   </span><span class="o">:</span><span class="m">34</span>
<span class="w">  </span><span class="m">3</span><span class="n">rd</span><span class="w"> </span><span class="n">Qu.</span><span class="o">:</span><span class="m">38.5</span><span class="w">   </span><span class="m">3</span><span class="n">rd</span><span class="w"> </span><span class="n">Qu.</span><span class="o">:</span><span class="m">45</span>
<span class="w">  </span><span class="n">Max.</span><span class="w">   </span><span class="o">:</span><span class="m">47.0</span><span class="w">   </span><span class="n">Max.</span><span class="w">   </span><span class="o">:</span><span class="m">58</span>
</pre></div>
</div>
</section>
</section>
<section id="functions">
<span id="id5"></span><h3><span class="bgreen">Functions</span><a class="headerlink" href="#functions" title="Link to this heading"></a></h3>
<p>These are objects that can be created by the user and then re-used to make specific operations.</p>
<p>For example, we can define a <strong>function</strong> to calculate the standard deviation:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">stddev</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                     </span><span class="c1"># user-defined function &#39;stddev&#39;</span>
<span class="o">+</span><span class="w">   </span><span class="n">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">sqrt</span><span class="p">(</span><span class="nf">sum</span><span class="p">((</span><span class="n">x</span><span class="o">-</span><span class="nf">mean</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">^</span><span class="m">2</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="nf">length</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="m">-1</span><span class="p">))</span>
<span class="o">+</span><span class="w">   </span><span class="nf">return</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
<span class="o">+</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
<p>Functions can be defined inside other functions (nested) and can also be passed as arguments to other functions.
The value returned by a function is the result of the last expression evaluated in the body of the function or the
value grabbed by the <code class="docutils literal notranslate"><span class="pre">return</span></code> command.</p>
<p>R functions arguments can have <em>default values</em> or can be <em>missing</em>. Arguments can be matched by name or position:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">mynumbers</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">stddev</span><span class="p">(</span><span class="n">mynumbers</span><span class="p">)</span><span class="w">                           </span><span class="c1"># equivalent calls to &#39;stddev&#39;</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">1.581139</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">stddev</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mynumbers</span><span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">1.581139</span>

<span class="o">&gt;</span><span class="w"> </span><span class="nf">sd</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">mynumbers</span><span class="p">)</span><span class="w">                             </span><span class="c1"># R function using &#39;missing argument&#39; with</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">1.581139</span><span class="w">                                  </span><span class="c1">#       default value (FALSE)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">sd</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">mynumbers</span><span class="p">,</span><span class="w"> </span><span class="n">na.rm</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span><span class="w">                 </span><span class="c1"># Specify all arguments by name</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">1.581139</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">sd</span><span class="p">(</span><span class="n">mynumbers</span><span class="p">,</span><span class="w"> </span><span class="n">na.rm</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span><span class="w">                   </span><span class="c1"># Mixing positional and by name matching</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">1.581139</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">sd</span><span class="p">(</span><span class="n">na.rm</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="o">=</span><span class="n">mynumbers</span><span class="p">)</span><span class="w">                 </span><span class="c1"># legal but not recommended (keep order)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">1.581139</span>
</pre></div>
</div>
<section id="looping-functions">
<h4>Looping Functions<a class="headerlink" href="#looping-functions" title="Link to this heading"></a></h4>
<p>There are special R functions that can be used to repeat instructions in the command line and facilitate
the programming process:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>lapply</strong>: evaluate a function for each element of a list</p></li>
<li><p><strong>sapply</strong>: evaluate a function for each element of a list <em>simplifying</em> the result</p></li>
<li><p><strong>apply</strong>: Apply a function over the margins of an array (usually to apply a function to the rows/columns in a matrix)</p></li>
<li><p><strong>tapply</strong>: Apply a function over subsets of a vector (for example defined with a factor)</p></li>
<li><p><strong>mapply</strong>: Multivariate version of lapply</p></li>
</ul>
</div></blockquote>
<p>Let’s see how to apply these functions to the previous example with the galaxy colours:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">bv.vec</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">0.92</span><span class="p">,</span><span class="m">0.97</span><span class="p">,</span><span class="m">0.87</span><span class="p">,</span><span class="w"> </span><span class="m">0.91</span><span class="p">,</span><span class="m">0.92</span><span class="p">,</span><span class="m">1.04</span><span class="p">,</span><span class="m">0.91</span><span class="p">,</span><span class="m">0.94</span><span class="p">,</span><span class="m">0.96</span><span class="p">,</span>
<span class="o">+</span><span class="w">             </span><span class="m">0.90</span><span class="p">,</span><span class="m">0.96</span><span class="p">,</span><span class="m">0.86</span><span class="p">,</span><span class="m">0.85</span><span class="p">)</span><span class="w">                            </span><span class="c1"># (B-V) colours from 13 galaxies</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">morfo</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;Sab&quot;</span><span class="p">,</span><span class="s">&quot;E&quot;</span><span class="p">,</span><span class="s">&quot;Sab&quot;</span><span class="p">,</span><span class="s">&quot;S0&quot;</span><span class="p">,</span><span class="s">&quot;E&quot;</span><span class="p">,</span><span class="w">  </span><span class="s">&quot;E&quot;</span><span class="p">,</span><span class="s">&quot;S0&quot;</span><span class="p">,</span><span class="s">&quot;S0&quot;</span><span class="p">,</span><span class="s">&quot;E&quot;</span><span class="p">,</span><span class="w">    </span><span class="c1"># ordered morph. information</span>
<span class="o">+</span><span class="w">            </span><span class="s">&quot;Sab&quot;</span><span class="p">,</span><span class="s">&quot;E&quot;</span><span class="p">,</span><span class="s">&quot;Sab&quot;</span><span class="p">,</span><span class="s">&quot;S0&quot;</span><span class="p">)</span><span class="w">                            </span><span class="c1">#    for the galaxies</span>
</pre></div>
</div>
<p><strong>lapply</strong></p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">bv.list</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">colsSab</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0.92</span><span class="p">,</span><span class="m">0.87</span><span class="p">,</span><span class="m">0.90</span><span class="p">,</span><span class="m">0.86</span><span class="p">),</span>
<span class="o">+</span><span class="w">                 </span><span class="n">colsE</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0.97</span><span class="p">,</span><span class="m">0.92</span><span class="p">,</span><span class="m">1.04</span><span class="p">,</span><span class="m">0.96</span><span class="p">,</span><span class="m">0.96</span><span class="p">),</span>
<span class="o">+</span><span class="w">                 </span><span class="n">colsSO</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0.91</span><span class="p">,</span><span class="m">0.91</span><span class="p">,</span><span class="m">0.94</span><span class="p">,</span><span class="m">0.85</span><span class="p">))</span>

<span class="o">&gt;</span><span class="w"> </span><span class="nf">lapply</span><span class="p">(</span><span class="n">bv.list</span><span class="p">,</span><span class="w"> </span><span class="n">mean</span><span class="p">)</span><span class="w">                       </span><span class="c1"># calculate mean for each galaxy type</span>
<span class="o">$</span><span class="n">colsSab</span><span class="w">                                      </span><span class="c1">#    (returns a list)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">0.8875</span>

<span class="o">$</span><span class="n">colsE</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">0.97</span>

<span class="o">$</span><span class="n">colsSO</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">0.9025</span>
</pre></div>
</div>
<p><strong>sapply</strong></p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="nf">sapply</span><span class="p">(</span><span class="n">bv.list</span><span class="p">,</span><span class="w"> </span><span class="n">mean</span><span class="p">)</span><span class="w">                       </span><span class="c1"># simplified version of &#39;lapply&#39;</span>
<span class="n">colsSab</span><span class="w">   </span><span class="n">colsE</span><span class="w">  </span><span class="n">colsSO</span><span class="w">                       </span><span class="c1">#    (returns a vector)</span>
<span class="m">0.8875</span><span class="w">  </span><span class="m">0.9700</span><span class="w">  </span><span class="m">0.9025</span>
</pre></div>
</div>
<p><strong>tapply</strong></p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">fmorfo</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">factor</span><span class="p">(</span><span class="n">morfo</span><span class="p">)</span><span class="w">                     </span><span class="c1"># create factor</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">tapply</span><span class="p">(</span><span class="n">bv</span><span class="p">,</span><span class="n">fmorfo</span><span class="p">,</span><span class="n">mean</span><span class="p">)</span><span class="w">                      </span><span class="c1"># apply mean function to the galaxy colours</span>
<span class="w">     </span><span class="n">E</span><span class="w">     </span><span class="n">S0</span><span class="w">    </span><span class="n">Sab</span><span class="w">                          </span><span class="c1">#    segregating by morphological type</span>
<span class="m">0.9700</span><span class="w"> </span><span class="m">0.9025</span><span class="w"> </span><span class="m">0.8875</span>
</pre></div>
</div>
<p><strong>apply</strong></p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">12</span><span class="p">,</span><span class="w"> </span><span class="n">nrow</span><span class="o">=</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">ncol</span><span class="o">=</span><span class="m">4</span><span class="p">)</span><span class="w">           </span><span class="c1"># define a matrix with 3 rows and 4 columns</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="w">     </span><span class="p">[,</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="m">2</span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="m">3</span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="m">4</span><span class="p">]</span>
<span class="p">[</span><span class="m">1</span><span class="p">,]</span><span class="w">    </span><span class="m">1</span><span class="w">    </span><span class="m">4</span><span class="w">    </span><span class="m">7</span><span class="w">   </span><span class="m">10</span>
<span class="p">[</span><span class="m">2</span><span class="p">,]</span><span class="w">    </span><span class="m">2</span><span class="w">    </span><span class="m">5</span><span class="w">    </span><span class="m">8</span><span class="w">   </span><span class="m">11</span>
<span class="p">[</span><span class="m">3</span><span class="p">,]</span><span class="w">    </span><span class="m">3</span><span class="w">    </span><span class="m">6</span><span class="w">    </span><span class="m">9</span><span class="w">   </span><span class="m">12</span>

<span class="o">&gt;</span><span class="w"> </span><span class="nf">apply</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="m">1</span><span class="p">,</span><span class="n">mean</span><span class="p">)</span><span class="w">                             </span><span class="c1"># calculate rows (&quot;1&quot;) mean == rowMeans</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">5.5</span><span class="w"> </span><span class="m">6.5</span><span class="w"> </span><span class="m">7.5</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">rowMeans</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">5.5</span><span class="w"> </span><span class="m">6.5</span><span class="w"> </span><span class="m">7.5</span>

<span class="o">&gt;</span><span class="w"> </span><span class="nf">apply</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="m">1</span><span class="p">,</span><span class="n">sum</span><span class="p">)</span><span class="w">                              </span><span class="c1"># calculate rows (&quot;1&quot;) sum == rowSums</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">22</span><span class="w"> </span><span class="m">26</span><span class="w"> </span><span class="m">30</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">rowSums</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">22</span><span class="w"> </span><span class="m">26</span><span class="w"> </span><span class="m">30</span>

<span class="o">&gt;</span><span class="w"> </span><span class="nf">apply</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="n">mean</span><span class="p">)</span><span class="w">                             </span><span class="c1"># calculate columns (&quot;2&quot;) mean == colMeans</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">  </span><span class="m">2</span><span class="w">  </span><span class="m">5</span><span class="w">  </span><span class="m">8</span><span class="w"> </span><span class="m">11</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">apply</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="n">sum</span><span class="p">)</span><span class="w">                              </span><span class="c1"># calculate columns (&quot;2&quot;) sum == colSums</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">  </span><span class="m">6</span><span class="w"> </span><span class="m">15</span><span class="w"> </span><span class="m">24</span><span class="w"> </span><span class="m">33</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="special-values">
<span id="specialvalues"></span><h2>Special Values<a class="headerlink" href="#special-values" title="Link to this heading"></a></h2>
<p>It is useful to define some values as * Not Available* (<em>NA</em>):</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="o">:</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="o">:</span><span class="m">7</span><span class="p">)</span><span class="w">                    </span><span class="c1"># define vector with NA values</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w">                                           </span><span class="c1"># show values in screen</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">  </span><span class="m">0</span><span class="w">  </span><span class="m">1</span><span class="w">  </span><span class="m">2</span><span class="w"> </span><span class="kc">NA</span><span class="w"> </span><span class="kc">NA</span><span class="w">  </span><span class="m">5</span><span class="w">  </span><span class="m">6</span><span class="w">  </span><span class="m">7</span>
</pre></div>
</div>
<p>We can carry out mathematical operations:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="o">*</span><span class="n">a</span><span class="w">                                         </span><span class="c1"># calculate the square of &#39;a&#39;</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">  </span><span class="m">0</span><span class="w">  </span><span class="m">1</span><span class="w">  </span><span class="m">4</span><span class="w"> </span><span class="kc">NA</span><span class="w"> </span><span class="kc">NA</span><span class="w"> </span><span class="m">25</span><span class="w"> </span><span class="m">36</span><span class="w"> </span><span class="m">49</span>
</pre></div>
</div>
<p>We can check whether there is any undefined value:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">unavail</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">is.na</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w">                         </span><span class="c1"># use of is.na() function</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">unavail</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="kc">FALSE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w">  </span><span class="kc">TRUE</span><span class="w">  </span><span class="kc">TRUE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w"> </span><span class="kc">FALSE</span>
</pre></div>
</div>
<p>Sometimes calculations end up in values with no mathematical sense:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">log</span><span class="p">(</span><span class="m">-1</span><span class="p">)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="kc">NaN</span><span class="w">                                       </span><span class="c1"># Result is Not-a-Number (NaN)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1</span><span class="o">/</span><span class="m">0</span><span class="p">;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">0</span><span class="o">/</span><span class="m">0</span><span class="p">;</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">log</span><span class="p">(</span><span class="m">0</span><span class="p">);</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">d</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">  </span><span class="kc">Inf</span><span class="w">  </span><span class="kc">NaN</span><span class="w"> </span><span class="o">-</span><span class="kc">Inf</span><span class="w">                            </span><span class="c1"># Infinities and Not-a-Number</span>
<span class="o">&gt;</span><span class="w"> </span><span class="m">1</span><span class="o">/</span><span class="kc">Inf</span><span class="w">                                       </span><span class="c1"># Possible to operate with Infinite</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">0</span><span class="w">                                         </span><span class="c1">#   (if it makes sense!)</span>
</pre></div>
</div>
<p>To check whether we have <em>Infinite</em> values or <em>Not-a-Number</em> values:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="nf">is.infinite</span><span class="p">(</span><span class="n">d</span><span class="p">)</span><span class="w">                              </span><span class="c1"># is there any Infinite value?</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">  </span><span class="kc">TRUE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w">  </span><span class="kc">TRUE</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">is.nan</span><span class="p">(</span><span class="n">d</span><span class="p">)</span><span class="w">                                   </span><span class="c1"># is there any Not-a-Number value?</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="kc">FALSE</span><span class="w">  </span><span class="kc">TRUE</span><span class="w"> </span><span class="kc">FALSE</span>
</pre></div>
</div>
<p>Main R functions (<code class="docutils literal notranslate"><span class="pre">mean</span></code>, <code class="docutils literal notranslate"><span class="pre">var</span></code>, <code class="docutils literal notranslate"><span class="pre">sum</span></code>, <code class="docutils literal notranslate"><span class="pre">min</span></code>, <code class="docutils literal notranslate"><span class="pre">max</span></code>,…)  accept an argument called <code class="docutils literal notranslate"><span class="pre">na.rm</span></code>
that can be set as <code class="docutils literal notranslate"><span class="pre">TRUE</span></code> or <code class="docutils literal notranslate"><span class="pre">FALSE</span></code> to remove (or not) the unavailable data.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="o">:</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="o">:</span><span class="m">7</span><span class="p">)</span><span class="w">                    </span><span class="c1"># define vector &#39;a&#39; with Not-Available data</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">  </span><span class="m">0</span><span class="w">  </span><span class="m">1</span><span class="w">  </span><span class="m">2</span><span class="w"> </span><span class="kc">NA</span><span class="w"> </span><span class="kc">NA</span><span class="w">  </span><span class="m">5</span><span class="w">  </span><span class="m">6</span><span class="w">  </span><span class="m">7</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">mean</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w">                                     </span><span class="c1"># since there are Not-Available data</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="kc">NA</span>

<span class="o">&gt;</span><span class="w"> </span><span class="nf">mean</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">na.rm</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span><span class="w">                         </span><span class="c1"># calculate mean, ignoring Not-Available values</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">3.5</span>
</pre></div>
</div>
</section>
<section id="subsetting">
<h2>Subsetting<a class="headerlink" href="#subsetting" title="Link to this heading"></a></h2>
<p>Several R operators can be used to extract subsets (slices) from R objects:</p>
<ul class="simple">
<li><p><strong>[</strong> can be used to extract <strong>one or more elements</strong> of an R object. It always returns an object of the same class</p></li>
<li><p><strong>[[</strong> can be used to extract a <strong>single</strong> element from a data frame or a list. The class of the extracted element can be different from the original object.</p></li>
<li><p><strong>$</strong> can be used to extract <strong>named</strong> elements from a data frame or a list.</p></li>
</ul>
<p>For <em>Numeric Vectors</em>:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">15</span><span class="w">                           </span><span class="c1"># generate a sequence</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">a</span><span class="o">*</span><span class="n">a</span><span class="w">                            </span><span class="c1"># calculate the square of &#39;a&#39;</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w">                                   </span><span class="c1"># show in screen</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">   </span><span class="m">1</span><span class="w">   </span><span class="m">4</span><span class="w">   </span><span class="m">9</span><span class="w">  </span><span class="m">16</span><span class="w">  </span><span class="m">25</span><span class="w">  </span><span class="m">36</span><span class="w">  </span><span class="m">49</span><span class="w">  </span><span class="m">64</span><span class="w">  </span><span class="m">81</span><span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="m">121</span><span class="w"> </span><span class="m">144</span><span class="w"> </span><span class="m">169</span><span class="w"> </span><span class="m">196</span><span class="w"> </span><span class="m">225</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="m">3</span><span class="p">]</span><span class="w">                                </span><span class="c1"># access to the third value in the vector</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">9</span><span class="w">                                 </span><span class="c1">#  (numeric index)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="m">3</span><span class="o">:</span><span class="m">5</span><span class="p">]</span><span class="w">                              </span><span class="c1"># access to a continuum slice of values</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">  </span><span class="m">9</span><span class="w"> </span><span class="m">16</span><span class="w"> </span><span class="m">25</span><span class="w">                          </span><span class="c1">#  (numeric index)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">10</span><span class="p">)]</span><span class="w">                        </span><span class="c1"># access to a given sequence of values</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">   </span><span class="m">1</span><span class="w">   </span><span class="m">9</span><span class="w"> </span><span class="m">100</span><span class="w">                       </span><span class="c1">#  (numeric index)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="m">-1</span><span class="p">]</span><span class="w">                               </span><span class="c1"># negative index remove values from vector</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">   </span><span class="m">4</span><span class="w">   </span><span class="m">9</span><span class="w">  </span><span class="m">16</span><span class="w">  </span><span class="m">25</span><span class="w">  </span><span class="m">36</span><span class="w">  </span><span class="m">49</span><span class="w">  </span><span class="m">64</span><span class="w">  </span><span class="m">81</span><span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="m">121</span><span class="w"> </span><span class="m">144</span><span class="w"> </span><span class="m">169</span><span class="w"> </span><span class="m">196</span><span class="w"> </span><span class="m">225</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="nf">c</span><span class="p">(</span><span class="m">-1</span><span class="p">,</span><span class="m">-3</span><span class="p">,</span><span class="m">-5</span><span class="p">,</span><span class="m">-7</span><span class="p">)]</span><span class="w">                   </span><span class="c1"># remove several values (it is not possible</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">   </span><span class="m">4</span><span class="w">  </span><span class="m">16</span><span class="w">  </span><span class="m">36</span><span class="w">  </span><span class="m">64</span><span class="w">  </span><span class="m">81</span><span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="m">121</span><span class="w"> </span><span class="m">144</span><span class="w"> </span><span class="m">169</span><span class="w"> </span><span class="m">196</span><span class="w"> </span><span class="m">225</span><span class="w">   </span><span class="n">to</span><span class="w"> </span><span class="n">mix</span><span class="w"> </span><span class="n">positive</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">negative</span><span class="w"> </span><span class="n">indices</span><span class="o">!</span><span class="p">)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">a</span><span class="o">&gt;</span><span class="m">100</span><span class="p">]</span><span class="w">                            </span><span class="c1"># access to a sequence based on a condition</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">121</span><span class="w"> </span><span class="m">144</span><span class="w"> </span><span class="m">169</span><span class="w"> </span><span class="m">196</span><span class="w"> </span><span class="m">225</span><span class="w">               </span><span class="c1">#  (logical index)</span>
</pre></div>
</div>
<p>For <em>Character Vectors</em>:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;A&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;B&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;C&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;C&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;D&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;E&quot;</span><span class="p">)</span>
<span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">                                </span><span class="c1"># first element of &quot;a&quot; (also a character vector)</span>
<span class="w"> </span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;A&quot;</span><span class="w">                               </span><span class="c1">#  (numeric index)</span>
<span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="p">]</span><span class="w">                              </span><span class="c1"># sequence of the first 4 elements</span>
<span class="w"> </span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;A&quot;</span><span class="w"> </span><span class="s">&quot;B&quot;</span><span class="w"> </span><span class="s">&quot;C&quot;</span><span class="w"> </span><span class="s">&quot;C&quot;</span>
<span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">a</span><span class="o">&gt;</span><span class="s">&quot;C&quot;</span><span class="p">]</span><span class="w">                            </span><span class="c1"># select elements &quot;greater&quot; than letter &quot;C&quot;</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;D&quot;</span><span class="w"> </span><span class="s">&quot;E&quot;</span><span class="w">                            </span><span class="c1">#  (logical index)</span>
<span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">gtC</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="s">&quot;C&quot;</span><span class="w">                      </span><span class="c1"># the same but using an intermediate logical vector</span>
<span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">gtC</span>
<span class="w"> </span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="kc">FALSE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w">  </span><span class="kc">TRUE</span><span class="w">  </span><span class="kc">TRUE</span>
<span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">gtC</span><span class="p">]</span>
<span class="w"> </span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;D&quot;</span><span class="w"> </span><span class="s">&quot;E&quot;</span>
</pre></div>
</div>
<p>For <em>Matrices</em>, elements are accessed through two integer indices:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The agreement to establish the indices order <code class="docutils literal notranslate"><span class="pre">a[i,j]</span></code> is the same than the one used in Math for the matrix coefficients a <sub>ij</sub></p>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">12</span><span class="p">,</span><span class="w"> </span><span class="n">nrow</span><span class="o">=</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">ncol</span><span class="o">=</span><span class="m">4</span><span class="p">)</span><span class="w">   </span><span class="c1"># define a matrix with 3 rows and 4 columns</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span>
<span class="w">     </span><span class="p">[,</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="m">2</span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="m">3</span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="m">4</span><span class="p">]</span>
<span class="p">[</span><span class="m">1</span><span class="p">,]</span><span class="w">    </span><span class="m">1</span><span class="w">    </span><span class="m">4</span><span class="w">    </span><span class="m">7</span><span class="w">   </span><span class="m">10</span>
<span class="p">[</span><span class="m">2</span><span class="p">,]</span><span class="w">    </span><span class="m">2</span><span class="w">    </span><span class="m">5</span><span class="w">    </span><span class="m">8</span><span class="w">   </span><span class="m">11</span>
<span class="p">[</span><span class="m">3</span><span class="p">,]</span><span class="w">    </span><span class="m">3</span><span class="w">    </span><span class="m">6</span><span class="w">    </span><span class="m">9</span><span class="w">   </span><span class="m">12</span>


<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">]</span><span class="w">                              </span><span class="c1"># return the value in the 2nd row and 3th column</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">8</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">[[</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">]]</span><span class="w">                            </span><span class="c1"># return the value in the 2nd row and 3th column</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">8</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="m">2</span><span class="p">,]</span><span class="w">                               </span><span class="c1"># return the values for the second row</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">  </span><span class="m">2</span><span class="w">  </span><span class="m">5</span><span class="w">  </span><span class="m">8</span><span class="w"> </span><span class="m">11</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">[,</span><span class="m">3</span><span class="p">]</span><span class="w">                               </span><span class="c1"># return the values for the third column</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">7</span><span class="w"> </span><span class="m">8</span><span class="w"> </span><span class="m">9</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default, subsetting a single element or a single row or a single column returns a vector, not a matrix (this can be changed using <code class="docutils literal notranslate"><span class="pre">drop=FALSE</span></code>)</p>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">drop</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">]</span><span class="w">                  </span><span class="c1"># so as not to &#39;drop&#39; the dimension</span>
<span class="w">      </span><span class="p">[,</span><span class="m">1</span><span class="p">]</span><span class="w">                            </span><span class="c1">#     (returns a 1x1 matrix)</span>
<span class="p">[</span><span class="m">1</span><span class="p">,]</span><span class="w">    </span><span class="m">8</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">drop</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">]</span><span class="w">                  </span><span class="c1"># return a 1x4 matrix</span>
<span class="w">      </span><span class="p">[,</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="m">2</span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="m">3</span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="m">4</span><span class="p">]</span>
<span class="p">[</span><span class="m">1</span><span class="p">,]</span><span class="w">    </span><span class="m">2</span><span class="w">    </span><span class="m">5</span><span class="w">    </span><span class="m">8</span><span class="w">   </span><span class="m">11</span>
</pre></div>
</div>
<p>The access to the matrix elements can be done with the indices stored in other auxiliary matrices:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">ind</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">matrix</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">,</span><span class="m">3</span><span class="o">:</span><span class="m">1</span><span class="p">),</span><span class="w"> </span><span class="n">nrow</span><span class="o">=</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">ncol</span><span class="o">=</span><span class="m">2</span><span class="p">)</span><span class="w">   </span><span class="c1"># auxiliary matrix for the indices i,j</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">ind</span>
<span class="w">     </span><span class="p">[,</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="m">2</span><span class="p">]</span>
<span class="p">[</span><span class="m">1</span><span class="p">,]</span><span class="w">    </span><span class="m">1</span><span class="w">    </span><span class="m">3</span>
<span class="p">[</span><span class="m">2</span><span class="p">,]</span><span class="w">    </span><span class="m">2</span><span class="w">    </span><span class="m">2</span>
<span class="p">[</span><span class="m">3</span><span class="p">,]</span><span class="w">    </span><span class="m">3</span><span class="w">    </span><span class="m">1</span>

<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">0</span><span class="w">                         </span><span class="c1"># set to 0 the matrix values in the indices</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w">                                   </span><span class="c1">#  specified in &#39;ind&#39; (1,3), (2,2), (3,1)</span>
<span class="w">     </span><span class="p">[,</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="m">2</span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="m">3</span><span class="p">]</span><span class="w"> </span><span class="p">[,</span><span class="m">4</span><span class="p">]</span>
<span class="p">[</span><span class="m">1</span><span class="p">,]</span><span class="w">    </span><span class="m">1</span><span class="w">    </span><span class="m">4</span><span class="w">    </span><span class="m">0</span><span class="w">   </span><span class="m">10</span>
<span class="p">[</span><span class="m">2</span><span class="p">,]</span><span class="w">    </span><span class="m">2</span><span class="w">    </span><span class="m">0</span><span class="w">    </span><span class="m">8</span><span class="w">   </span><span class="m">11</span>
<span class="p">[</span><span class="m">3</span><span class="p">,]</span><span class="w">    </span><span class="m">0</span><span class="w">    </span><span class="m">6</span><span class="w">    </span><span class="m">9</span><span class="w">   </span><span class="m">12</span>
</pre></div>
</div>
<p>For <em>lists</em>:</p>
<p>The list components can be accessed using the three operators mentioned above (<em>[</em>, <em>[[</em> and <em>$</em>):</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;NGC3379&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">morf</span><span class="o">=</span><span class="s">&quot;E&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">colours</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0.53</span><span class="p">,</span><span class="m">0.96</span><span class="p">))</span>

<span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span><span class="p">[</span><span class="m">3</span><span class="p">]</span><span class="w">                              </span><span class="c1"># access to the third element of the list</span>
<span class="o">$</span><span class="n">colours</span><span class="w">                              </span><span class="c1">#  (get back a list with one element called &#39;colours&#39;</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">0.53</span><span class="w"> </span><span class="m">0.96</span><span class="w">                         </span><span class="c1">#   with the sequence &#39;0.53,0.96&#39;)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span><span class="p">[</span><span class="s">&quot;colours&quot;</span><span class="p">]</span><span class="w">                      </span><span class="c1"># single bracket + name (same as above)</span>
<span class="o">$</span><span class="n">colours</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">0.53</span><span class="w"> </span><span class="m">0.96</span>

<span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span><span class="p">[[</span><span class="m">3</span><span class="p">]]</span><span class="w">                            </span><span class="c1"># access to the third element of the list</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">0.53</span><span class="w"> </span><span class="m">0.96</span><span class="w">                         </span><span class="c1">#  (get back just the sequence)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span><span class="p">[[</span><span class="s">&quot;colours&quot;</span><span class="p">]]</span><span class="w">                    </span><span class="c1"># double bracket + name (same as above)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">0.53</span><span class="w"> </span><span class="m">0.96</span>


<span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span><span class="o">$</span><span class="n">colours</span><span class="w">                         </span><span class="c1"># element associated with the name &#39;colours&#39;</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">0.53</span><span class="w"> </span><span class="m">0.96</span><span class="w">                         </span><span class="c1">#  (same as double bracket)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span><span class="o">$</span><span class="n">colours</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">                      </span><span class="c1"># first element of the sequence in the third element</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">0.53</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span><span class="o">$</span><span class="n">colours</span><span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="w">                      </span><span class="c1"># second element of the sequence in the third element</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">0.96</span>
</pre></div>
</div>
<p>To extract <strong>multiple elements</strong> of a list, single bracket is mandatory:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;NGC3379&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">morf</span><span class="o">=</span><span class="s">&quot;E&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">colours</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0.53</span><span class="p">,</span><span class="m">0.96</span><span class="p">))</span>

<span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span><span class="p">[</span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">)]</span><span class="w">                         </span><span class="c1"># return a list with the elements &#39;name&#39; and &#39;morf&#39;</span>
<span class="o">$</span><span class="n">name</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;NGC3379&quot;</span>

<span class="o">$</span><span class="n">morf</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;E&quot;</span>
</pre></div>
</div>
<p>For <strong>computed</strong> indices the <em>[[</em> and <em>[</em> operators can be used. The <em>$</em> operator can only be used with <em>literal</em> names:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;NGC3379&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">morf</span><span class="o">=</span><span class="s">&quot;E&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">colours</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0.53</span><span class="p">,</span><span class="m">0.96</span><span class="p">))</span>

<span class="o">&gt;</span><span class="w"> </span><span class="n">info</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;morf&quot;</span><span class="w">                      </span><span class="c1"># variable containing the name of one of the list elements</span>

<span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span><span class="p">[[</span><span class="s">&quot;morf&quot;</span><span class="p">]</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;E&quot;</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span><span class="p">[[</span><span class="n">info</span><span class="p">]]</span><span class="w">                         </span><span class="c1"># computed index for &#39;morf&#39; with double bracket</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;E&quot;</span>

<span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span><span class="p">[</span><span class="s">&quot;morf&quot;</span><span class="p">]</span>
<span class="o">$</span><span class="n">morf</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;E&quot;</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span><span class="p">[</span><span class="n">info</span><span class="p">]</span><span class="w">                           </span><span class="c1"># computed index for &#39;morf&#39; with single bracket</span>
<span class="o">$</span><span class="n">morf</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;E&quot;</span>

<span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span><span class="o">$</span><span class="n">morf</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;E&quot;</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span><span class="o">$</span><span class="n">info</span><span class="w">                            </span><span class="c1"># element &#39;info&#39; unknown</span>
<span class="kc">NULL</span>
</pre></div>
</div>
<p>To <strong>recursively</strong> extract an element:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;NGC3379&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">morf</span><span class="o">=</span><span class="s">&quot;E&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">colours</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0.53</span><span class="p">,</span><span class="m">0.96</span><span class="p">))</span>

<span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span><span class="p">[[</span><span class="nf">c</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="m">1</span><span class="p">)]]</span><span class="w">                       </span><span class="c1"># extract the 1st element of the 3rd element (&#39;0.53&#39;)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">0.53</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span><span class="p">[[</span><span class="m">3</span><span class="p">]][[</span><span class="m">1</span><span class="p">]]</span><span class="w">                       </span><span class="c1"># equivalent double subsetting</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">0.53</span>

<span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span><span class="p">[</span><span class="nf">c</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="m">1</span><span class="p">)]</span><span class="w">                         </span><span class="c1"># not recursive!</span>
<span class="o">$</span><span class="n">colours</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">0.53</span><span class="w"> </span><span class="m">0.96</span>

<span class="o">$</span><span class="n">name</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;NGC3379&quot;</span>
</pre></div>
</div>
<p>Elements can be extracted using <strong>partial matching</strong> with the <em>[[</em> and <em>$</em> operators:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;NGC3379&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">morf</span><span class="o">=</span><span class="s">&quot;E&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">colours</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0.53</span><span class="p">,</span><span class="m">0.96</span><span class="p">))</span>

<span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span><span class="o">$</span><span class="n">na</span><span class="w">                            </span><span class="c1"># get element by partial matching the name</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;NGC3379&quot;</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span><span class="p">[[</span><span class="s">&quot;na&quot;</span><span class="p">]]</span><span class="w">                       </span><span class="c1"># expect exact element name</span>
<span class="kc">NULL</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">gal</span><span class="p">[[</span><span class="s">&quot;na&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">exact</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">]]</span><span class="w">          </span><span class="c1"># partial matching as with &#39;$&#39;</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;NGC3379&quot;</span>
</pre></div>
</div>
<p>For <em>Data Frames (Tables)</em>, the operators used for slicing are the same than those used for <em>lists</em>:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">airquality</span><span class="w">                                  </span><span class="c1"># data frame in R library</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">airquality</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">7</span><span class="p">,</span><span class="w"> </span><span class="p">]</span><span class="w">                           </span><span class="c1"># display first 7 rows of data frame</span>
<span class="w">  </span><span class="n">Ozone</span><span class="w"> </span><span class="n">Solar.R</span><span class="w"> </span><span class="n">Wind</span><span class="w"> </span><span class="n">Temp</span><span class="w"> </span><span class="n">Month</span><span class="w"> </span><span class="n">Day</span><span class="w">           </span><span class="c1"># there are missing values in rows 5 and 6</span>
<span class="m">1</span><span class="w">    </span><span class="m">41</span><span class="w">     </span><span class="m">190</span><span class="w">  </span><span class="m">7.4</span><span class="w">   </span><span class="m">67</span><span class="w">     </span><span class="m">5</span><span class="w">   </span><span class="m">1</span>
<span class="m">2</span><span class="w">    </span><span class="m">36</span><span class="w">     </span><span class="m">118</span><span class="w">  </span><span class="m">8.0</span><span class="w">   </span><span class="m">72</span><span class="w">     </span><span class="m">5</span><span class="w">   </span><span class="m">2</span>
<span class="m">3</span><span class="w">    </span><span class="m">12</span><span class="w">     </span><span class="m">149</span><span class="w"> </span><span class="m">12.6</span><span class="w">   </span><span class="m">74</span><span class="w">     </span><span class="m">5</span><span class="w">   </span><span class="m">3</span>
<span class="m">4</span><span class="w">    </span><span class="m">18</span><span class="w">     </span><span class="m">313</span><span class="w"> </span><span class="m">11.5</span><span class="w">   </span><span class="m">62</span><span class="w">     </span><span class="m">5</span><span class="w">   </span><span class="m">4</span>
<span class="m">5</span><span class="w">    </span><span class="kc">NA</span><span class="w">      </span><span class="kc">NA</span><span class="w"> </span><span class="m">14.3</span><span class="w">   </span><span class="m">56</span><span class="w">     </span><span class="m">5</span><span class="w">   </span><span class="m">5</span>
<span class="m">6</span><span class="w">    </span><span class="m">28</span><span class="w">      </span><span class="kc">NA</span><span class="w"> </span><span class="m">14.9</span><span class="w">   </span><span class="m">66</span><span class="w">     </span><span class="m">5</span><span class="w">   </span><span class="m">6</span>
<span class="m">7</span><span class="w">    </span><span class="m">23</span><span class="w">     </span><span class="m">299</span><span class="w">  </span><span class="m">8.6</span><span class="w">   </span><span class="m">65</span><span class="w">     </span><span class="m">5</span><span class="w">   </span><span class="m">7</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">airquality</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">7</span><span class="p">,</span><span class="w"> </span><span class="p">])</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;data.frame&quot;</span>

<span class="o">&gt;</span><span class="w"> </span><span class="n">airquality</span><span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="m">1</span><span class="p">]</span><span class="w">                             </span><span class="c1"># get element in row=1, col=1</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">41</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">airquality</span><span class="p">[[</span><span class="m">1</span><span class="p">,</span><span class="m">1</span><span class="p">]]</span><span class="w">                           </span><span class="c1"># get element in row=1, col=1</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">41</span>

<span class="o">&gt;</span><span class="w"> </span><span class="n">airquality</span><span class="p">[</span><span class="m">1</span><span class="p">,]</span><span class="w">                              </span><span class="c1"># get row=1 (all columns)</span>
<span class="w">  </span><span class="n">Ozone</span><span class="w"> </span><span class="n">Solar.R</span><span class="w"> </span><span class="n">Wind</span><span class="w"> </span><span class="n">Temp</span><span class="w"> </span><span class="n">Month</span><span class="w"> </span><span class="n">Day</span>
<span class="m">1</span><span class="w">    </span><span class="m">41</span><span class="w">     </span><span class="m">190</span><span class="w">  </span><span class="m">7.4</span><span class="w">   </span><span class="m">67</span><span class="w">     </span><span class="m">5</span><span class="w">   </span><span class="m">1</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">airquality</span><span class="p">[</span><span class="m">1</span><span class="p">,])</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;data.frame&quot;</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="n">airquality</span><span class="p">[</span><span class="m">1</span><span class="p">,])</span><span class="w">                  </span><span class="c1"># get row=1 into a numeric vector</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">  </span><span class="m">41.0</span><span class="w"> </span><span class="m">190.0</span><span class="w">   </span><span class="m">7.4</span><span class="w">  </span><span class="m">67.0</span><span class="w">   </span><span class="m">5.0</span><span class="w">   </span><span class="m">1.0</span>


<span class="o">&gt;</span><span class="w"> </span><span class="n">airquality</span><span class="o">$</span><span class="n">Ozone</span><span class="w">                            </span><span class="c1"># get &quot;Ozone&quot; column into a vector</span>
<span class="w">  </span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">  </span><span class="m">41</span><span class="w">  </span><span class="m">36</span><span class="w">  </span><span class="m">12</span><span class="w">  </span><span class="m">18</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="m">28</span><span class="w">  </span><span class="m">23</span><span class="w">  </span><span class="m">19</span><span class="w">   </span><span class="m">8</span><span class="w">  </span><span class="kc">NA</span><span class="w">   </span><span class="m">7</span><span class="w">  </span><span class="m">16</span><span class="w">  </span><span class="m">11</span><span class="w">  </span><span class="m">14</span><span class="w">  </span><span class="m">18</span><span class="w">  </span><span class="m">14</span><span class="w">  </span><span class="m">34</span><span class="w">   </span><span class="m">6</span>
<span class="w"> </span><span class="p">[</span><span class="m">19</span><span class="p">]</span><span class="w">  </span><span class="m">30</span><span class="w">  </span><span class="m">11</span><span class="w">   </span><span class="m">1</span><span class="w">  </span><span class="m">11</span><span class="w">   </span><span class="m">4</span><span class="w">  </span><span class="m">32</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="m">23</span><span class="w">  </span><span class="m">45</span><span class="w"> </span><span class="m">115</span><span class="w">  </span><span class="m">37</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="kc">NA</span>
<span class="w"> </span><span class="p">[</span><span class="m">37</span><span class="p">]</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="m">29</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="m">71</span><span class="w">  </span><span class="m">39</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="m">23</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="m">21</span><span class="w">  </span><span class="m">37</span><span class="w">  </span><span class="m">20</span><span class="w">  </span><span class="m">12</span><span class="w">  </span><span class="m">13</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="kc">NA</span>
<span class="w"> </span><span class="p">[</span><span class="m">55</span><span class="p">]</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="kc">NA</span><span class="w"> </span><span class="m">135</span><span class="w">  </span><span class="m">49</span><span class="w">  </span><span class="m">32</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="m">64</span><span class="w">  </span><span class="m">40</span><span class="w">  </span><span class="m">77</span><span class="w">  </span><span class="m">97</span><span class="w">  </span><span class="m">97</span><span class="w">  </span><span class="m">85</span><span class="w">  </span><span class="kc">NA</span>
<span class="w"> </span><span class="p">[</span><span class="m">73</span><span class="p">]</span><span class="w">  </span><span class="m">10</span><span class="w">  </span><span class="m">27</span><span class="w">  </span><span class="kc">NA</span><span class="w">   </span><span class="m">7</span><span class="w">  </span><span class="m">48</span><span class="w">  </span><span class="m">35</span><span class="w">  </span><span class="m">61</span><span class="w">  </span><span class="m">79</span><span class="w">  </span><span class="m">63</span><span class="w">  </span><span class="m">16</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="m">80</span><span class="w"> </span><span class="m">108</span><span class="w">  </span><span class="m">20</span><span class="w">  </span><span class="m">52</span><span class="w">  </span><span class="m">82</span><span class="w">  </span><span class="m">50</span>
<span class="w"> </span><span class="p">[</span><span class="m">91</span><span class="p">]</span><span class="w">  </span><span class="m">64</span><span class="w">  </span><span class="m">59</span><span class="w">  </span><span class="m">39</span><span class="w">   </span><span class="m">9</span><span class="w">  </span><span class="m">16</span><span class="w">  </span><span class="m">78</span><span class="w">  </span><span class="m">35</span><span class="w">  </span><span class="m">66</span><span class="w"> </span><span class="m">122</span><span class="w">  </span><span class="m">89</span><span class="w"> </span><span class="m">110</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="m">44</span><span class="w">  </span><span class="m">28</span><span class="w">  </span><span class="m">65</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="m">22</span>
<span class="p">[</span><span class="m">109</span><span class="p">]</span><span class="w">  </span><span class="m">59</span><span class="w">  </span><span class="m">23</span><span class="w">  </span><span class="m">31</span><span class="w">  </span><span class="m">44</span><span class="w">  </span><span class="m">21</span><span class="w">   </span><span class="m">9</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="m">45</span><span class="w"> </span><span class="m">168</span><span class="w">  </span><span class="m">73</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="m">76</span><span class="w"> </span><span class="m">118</span><span class="w">  </span><span class="m">84</span><span class="w">  </span><span class="m">85</span><span class="w">  </span><span class="m">96</span><span class="w">  </span><span class="m">78</span><span class="w">  </span><span class="m">73</span>
<span class="p">[</span><span class="m">127</span><span class="p">]</span><span class="w">  </span><span class="m">91</span><span class="w">  </span><span class="m">47</span><span class="w">  </span><span class="m">32</span><span class="w">  </span><span class="m">20</span><span class="w">  </span><span class="m">23</span><span class="w">  </span><span class="m">21</span><span class="w">  </span><span class="m">24</span><span class="w">  </span><span class="m">44</span><span class="w">  </span><span class="m">21</span><span class="w">  </span><span class="m">28</span><span class="w">   </span><span class="m">9</span><span class="w">  </span><span class="m">13</span><span class="w">  </span><span class="m">46</span><span class="w">  </span><span class="m">18</span><span class="w">  </span><span class="m">13</span><span class="w">  </span><span class="m">24</span><span class="w">  </span><span class="m">16</span><span class="w">  </span><span class="m">13</span>
<span class="p">[</span><span class="m">145</span><span class="p">]</span><span class="w">  </span><span class="m">23</span><span class="w">  </span><span class="m">36</span><span class="w">   </span><span class="m">7</span><span class="w">  </span><span class="m">14</span><span class="w">  </span><span class="m">30</span><span class="w">  </span><span class="kc">NA</span><span class="w">  </span><span class="m">14</span><span class="w">  </span><span class="m">18</span><span class="w">  </span><span class="m">20</span>

<span class="o">&gt;</span><span class="w"> </span><span class="nf">class</span><span class="p">(</span><span class="n">airquality</span><span class="o">$</span><span class="n">Ozone</span><span class="p">)</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;integer&quot;</span>
</pre></div>
</div>
<p>For <em>Character Strings</em> the access to their elements is done in a different way:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;This is an example of a text string&quot;</span><span class="w">  </span><span class="c1"># define a character string</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nf">substr</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">10</span><span class="p">)</span><span class="w">                              </span><span class="c1"># show a string subset</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot; is an&quot;</span>
</pre></div>
</div>
<section id="removing-na-values">
<h3>Removing NA values<a class="headerlink" href="#removing-na-values" title="Link to this heading"></a></h3>
<p>We can remove <em>Not Available</em> values in a simple way using subsetting:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="o">:</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="o">:</span><span class="m">7</span><span class="p">)</span><span class="w">                    </span><span class="c1"># define vector with NA values</span>

<span class="o">&gt;</span><span class="w"> </span><span class="n">aa</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="o">!</span><span class="nf">is.na</span><span class="p">(</span><span class="n">a</span><span class="p">)]</span><span class="w">                          </span><span class="c1"># the condition uses the negation</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">aa</span><span class="w">                                          </span><span class="c1">#    of is.na() function</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="m">7</span><span class="w">                               </span><span class="c1"># new vector with no NA values</span>
</pre></div>
</div>
<p>To take the subset of multiple vectors avoiding the missing values:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w">  </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="kc">NA</span><span class="p">,</span><span class="w"> </span><span class="m">7</span><span class="p">)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;A&quot;</span><span class="p">,</span><span class="s">&quot;B&quot;</span><span class="p">,</span><span class="kc">NA</span><span class="p">,</span><span class="s">&quot;D&quot;</span><span class="p">,</span><span class="kc">NA</span><span class="p">,</span><span class="s">&quot;E&quot;</span><span class="p">,</span><span class="s">&quot;F&quot;</span><span class="p">)</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">valsok</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">complete.cases</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span><span class="w">               </span><span class="c1"># return positions in which both vectors have</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">valsok</span><span class="w">                                      </span><span class="c1">#    no-missing values</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">  </span><span class="kc">TRUE</span><span class="w">  </span><span class="kc">TRUE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w"> </span><span class="kc">FALSE</span><span class="w">  </span><span class="kc">TRUE</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">a</span><span class="p">[</span><span class="n">valsok</span><span class="p">]</span><span class="w">                                   </span><span class="c1"># subsetting &#39;a&#39; gets good elements in &#39;a&#39;</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">7</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">b</span><span class="p">[</span><span class="n">valsok</span><span class="p">]</span><span class="w">                                   </span><span class="c1"># subsetting &#39;b&#39; gets good elements in &#39;b&#39;</span>
<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="s">&quot;A&quot;</span><span class="w"> </span><span class="s">&quot;B&quot;</span><span class="w"> </span><span class="s">&quot;F&quot;</span>
</pre></div>
</div>
<p>We can also use the function <code class="docutils literal notranslate"><span class="pre">complete.cases</span></code> to remove missing values from data frames:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="w"> </span><span class="n">airquality</span><span class="w">                                  </span><span class="c1"># data frame in R library</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">airquality</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">7</span><span class="p">,</span><span class="w"> </span><span class="p">]</span><span class="w">                           </span><span class="c1"># display first 7 rows of data frame</span>
<span class="w">  </span><span class="n">Ozone</span><span class="w"> </span><span class="n">Solar.R</span><span class="w"> </span><span class="n">Wind</span><span class="w"> </span><span class="n">Temp</span><span class="w"> </span><span class="n">Month</span><span class="w"> </span><span class="n">Day</span><span class="w">           </span><span class="c1"># there are missing values in rows 5 and 6</span>
<span class="m">1</span><span class="w">    </span><span class="m">41</span><span class="w">     </span><span class="m">190</span><span class="w">  </span><span class="m">7.4</span><span class="w">   </span><span class="m">67</span><span class="w">     </span><span class="m">5</span><span class="w">   </span><span class="m">1</span>
<span class="m">2</span><span class="w">    </span><span class="m">36</span><span class="w">     </span><span class="m">118</span><span class="w">  </span><span class="m">8.0</span><span class="w">   </span><span class="m">72</span><span class="w">     </span><span class="m">5</span><span class="w">   </span><span class="m">2</span>
<span class="m">3</span><span class="w">    </span><span class="m">12</span><span class="w">     </span><span class="m">149</span><span class="w"> </span><span class="m">12.6</span><span class="w">   </span><span class="m">74</span><span class="w">     </span><span class="m">5</span><span class="w">   </span><span class="m">3</span>
<span class="m">4</span><span class="w">    </span><span class="m">18</span><span class="w">     </span><span class="m">313</span><span class="w"> </span><span class="m">11.5</span><span class="w">   </span><span class="m">62</span><span class="w">     </span><span class="m">5</span><span class="w">   </span><span class="m">4</span>
<span class="m">5</span><span class="w">    </span><span class="kc">NA</span><span class="w">      </span><span class="kc">NA</span><span class="w"> </span><span class="m">14.3</span><span class="w">   </span><span class="m">56</span><span class="w">     </span><span class="m">5</span><span class="w">   </span><span class="m">5</span>
<span class="m">6</span><span class="w">    </span><span class="m">28</span><span class="w">      </span><span class="kc">NA</span><span class="w"> </span><span class="m">14.9</span><span class="w">   </span><span class="m">66</span><span class="w">     </span><span class="m">5</span><span class="w">   </span><span class="m">6</span>
<span class="m">7</span><span class="w">    </span><span class="m">23</span><span class="w">     </span><span class="m">299</span><span class="w">  </span><span class="m">8.6</span><span class="w">   </span><span class="m">65</span><span class="w">     </span><span class="m">5</span><span class="w">   </span><span class="m">7</span>

<span class="o">&gt;</span><span class="w"> </span><span class="n">valsok</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">complete.cases</span><span class="p">(</span><span class="n">airquality</span><span class="p">)</span><span class="w">        </span><span class="c1"># rows in which all the values are ok</span>
<span class="o">&gt;</span><span class="w"> </span><span class="n">airquality</span><span class="p">[</span><span class="n">valsok</span><span class="p">,</span><span class="w"> </span><span class="p">][</span><span class="m">1</span><span class="o">:</span><span class="m">7</span><span class="p">,]</span><span class="w">                  </span><span class="c1"># subset original dataframe and show first 7 rows</span>
<span class="w">  </span><span class="n">Ozone</span><span class="w"> </span><span class="n">Solar.R</span><span class="w"> </span><span class="n">Wind</span><span class="w"> </span><span class="n">Temp</span><span class="w"> </span><span class="n">Month</span><span class="w"> </span><span class="n">Day</span>
<span class="m">1</span><span class="w">    </span><span class="m">41</span><span class="w">     </span><span class="m">190</span><span class="w">  </span><span class="m">7.4</span><span class="w">   </span><span class="m">67</span><span class="w">     </span><span class="m">5</span><span class="w">   </span><span class="m">1</span>
<span class="m">2</span><span class="w">    </span><span class="m">36</span><span class="w">     </span><span class="m">118</span><span class="w">  </span><span class="m">8.0</span><span class="w">   </span><span class="m">72</span><span class="w">     </span><span class="m">5</span><span class="w">   </span><span class="m">2</span>
<span class="m">3</span><span class="w">    </span><span class="m">12</span><span class="w">     </span><span class="m">149</span><span class="w"> </span><span class="m">12.6</span><span class="w">   </span><span class="m">74</span><span class="w">     </span><span class="m">5</span><span class="w">   </span><span class="m">3</span>
<span class="m">4</span><span class="w">    </span><span class="m">18</span><span class="w">     </span><span class="m">313</span><span class="w"> </span><span class="m">11.5</span><span class="w">   </span><span class="m">62</span><span class="w">     </span><span class="m">5</span><span class="w">   </span><span class="m">4</span>
<span class="m">7</span><span class="w">    </span><span class="m">23</span><span class="w">     </span><span class="m">299</span><span class="w">  </span><span class="m">8.6</span><span class="w">   </span><span class="m">65</span><span class="w">     </span><span class="m">5</span><span class="w">   </span><span class="m">7</span>
<span class="m">8</span><span class="w">    </span><span class="m">19</span><span class="w">      </span><span class="m">99</span><span class="w"> </span><span class="m">13.8</span><span class="w">   </span><span class="m">59</span><span class="w">     </span><span class="m">5</span><span class="w">   </span><span class="m">8</span>
<span class="m">9</span><span class="w">     </span><span class="m">8</span><span class="w">      </span><span class="m">19</span><span class="w"> </span><span class="m">20.1</span><span class="w">   </span><span class="m">61</span><span class="w">     </span><span class="m">5</span><span class="w">   </span><span class="m">9</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="generalChars.html" class="btn btn-neutral float-left" title="Main features of R" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="basicOps.html" class="btn btn-neutral float-right" title="Basic Operations" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2013-2025, M.T. Ceballos (IFCA), N. Cardiel (UCM).</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>